{"version":3,"file":"pagination.cjs","sources":["../../../src/components/table/pagination.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { Select } from \"@/components/ui/select\"\nimport { LeftIcon, RightIcon } from \"@/icons\"\n\nexport interface PaginationProps extends React.HTMLAttributes<HTMLDivElement> {\n  /** 현재 페이지 (1-based) */\n  currentPage: number\n  /** 전체 페이지 수 */\n  totalPages: number\n  /** 페이지 변경 핸들러 */\n  onPageChange?: (page: number) => void\n  /** 표시할 페이지 버튼 수 (기본: 5) */\n  siblingCount?: number\n  /** Previous 버튼 텍스트 */\n  previousLabel?: string\n  /** Next 버튼 텍스트 */\n  nextLabel?: string\n}\n\nfunction getPageNumbers(\n  currentPage: number,\n  totalPages: number,\n  siblingCount: number\n): (number | \"ellipsis\")[] {\n  const totalNumbers = siblingCount * 2 + 3 // siblings + current + first + last\n  const totalButtons = totalNumbers + 2 // + 2 ellipsis\n\n  if (totalPages <= totalButtons) {\n    return Array.from({ length: totalPages }, (_, i) => i + 1)\n  }\n\n  const leftSiblingIndex = Math.max(currentPage - siblingCount, 1)\n  const rightSiblingIndex = Math.min(currentPage + siblingCount, totalPages)\n\n  const showLeftEllipsis = leftSiblingIndex > 2\n  const showRightEllipsis = rightSiblingIndex < totalPages - 1\n\n  if (!showLeftEllipsis && showRightEllipsis) {\n    const leftItemCount = 3 + 2 * siblingCount\n    const leftRange = Array.from({ length: leftItemCount }, (_, i) => i + 1)\n    return [...leftRange, \"ellipsis\", totalPages]\n  }\n\n  if (showLeftEllipsis && !showRightEllipsis) {\n    const rightItemCount = 3 + 2 * siblingCount\n    const rightRange = Array.from(\n      { length: rightItemCount },\n      (_, i) => totalPages - rightItemCount + i + 1\n    )\n    return [1, \"ellipsis\", ...rightRange]\n  }\n\n  const middleRange = Array.from(\n    { length: rightSiblingIndex - leftSiblingIndex + 1 },\n    (_, i) => leftSiblingIndex + i\n  )\n  return [1, \"ellipsis\", ...middleRange, \"ellipsis\", totalPages]\n}\n\nconst Pagination = React.forwardRef<HTMLDivElement, PaginationProps>(\n  (\n    {\n      className,\n      currentPage,\n      totalPages,\n      onPageChange,\n      siblingCount = 1,\n      previousLabel = \"Previous\",\n      nextLabel = \"Next\",\n      ...props\n    },\n    ref\n  ) => {\n    const pages = getPageNumbers(currentPage, totalPages, siblingCount)\n\n    const handlePageChange = (page: number) => {\n      if (page >= 1 && page <= totalPages && page !== currentPage) {\n        onPageChange?.(page)\n      }\n    }\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\"flex items-center gap-2\", className)}\n        {...props}\n      >\n        {/* Previous 버튼 */}\n        <Button\n          variant=\"ghost\"\n          size=\"default\"\n          onClick={() => handlePageChange(currentPage - 1)}\n          disabled={currentPage <= 1}\n          aria-label=\"이전 페이지\"\n        >\n          <LeftIcon size={20} />\n          {previousLabel}\n        </Button>\n\n        {/* 페이지 번호들 */}\n        <div className=\"flex items-center gap-1\">\n          {pages.map((page, index) => {\n            if (page === \"ellipsis\") {\n              return (\n                <span\n                  key={`ellipsis-${index}`}\n                  className=\"px-2 text-sm text-slate-400\"\n                >\n                  ...\n                </span>\n              )\n            }\n\n            const isActive = page === currentPage\n\n            return (\n              <Button\n                key={page}\n                variant=\"text\"\n                size=\"default\"\n                onClick={() => handlePageChange(page)}\n                className={cn(\n                  \"min-w-[36px]\",\n                  isActive && \"font-semibold text-slate-900 dark:text-white\"\n                )}\n                aria-label={`페이지 ${page}`}\n                aria-current={isActive ? \"page\" : undefined}\n              >\n                {page}\n              </Button>\n            )\n          })}\n        </div>\n\n        {/* Next 버튼 */}\n        <Button\n          variant=\"ghost\"\n          size=\"default\"\n          onClick={() => handlePageChange(currentPage + 1)}\n          disabled={currentPage >= totalPages}\n          aria-label=\"다음 페이지\"\n        >\n          {nextLabel}\n          <RightIcon size={20} />\n        </Button>\n      </div>\n    )\n  }\n)\nPagination.displayName = \"Pagination\"\n\nexport interface PageSizeSelectorProps {\n  /** 현재 페이지 사이즈 */\n  pageSize: number\n  /** 페이지 사이즈 옵션들 */\n  options?: number[]\n  /** 페이지 사이즈 변경 핸들러 */\n  onPageSizeChange?: (size: number) => void\n  /** 라벨 텍스트 */\n  label?: string\n  /** 추가 className */\n  className?: string\n}\n\nfunction PageSizeSelector({\n  className,\n  pageSize,\n  options = [10, 20, 50, 100],\n  onPageSizeChange,\n  label = \"페이지당 항목 수\",\n}: PageSizeSelectorProps) {\n  const selectOptions = options.map((option) => ({\n    label: String(option),\n    value: String(option),\n  }))\n\n  return (\n    <div className={cn(\"flex items-center gap-2\", className)}>\n      {label && (\n        <span className=\"text-xs text-slate-500 dark:text-slate-400 whitespace-nowrap\">\n          {label}\n        </span>\n      )}\n      <Select\n        value={String(pageSize)}\n        onValueChange={(value) => onPageSizeChange?.(Number(value))}\n        options={selectOptions}\n        size=\"sm\"\n        className=\"!w-[70px]\"\n        aria-label=\"페이지당 항목 수\"\n      />\n    </div>\n  )\n}\n\nexport { Pagination, PageSizeSelector }\n"],"names":["getPageNumbers","currentPage","totalPages","siblingCount","totalButtons","_","i","leftSiblingIndex","rightSiblingIndex","showLeftEllipsis","showRightEllipsis","leftItemCount","rightItemCount","Pagination","React","className","onPageChange","previousLabel","nextLabel","props","ref","pages","handlePageChange","page","jsxs","cn","Button","jsx","LeftIcon","index","isActive","RightIcon","PageSizeSelector","pageSize","options","onPageSizeChange","label","selectOptions","option","Select","value"],"mappings":"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"}