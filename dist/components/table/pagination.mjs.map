{"version":3,"file":"pagination.mjs","sources":["../../../src/components/table/pagination.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { Select } from \"@/components/ui/select\"\nimport { LeftIcon, RightIcon } from \"@/icons\"\n\nexport interface PaginationProps extends React.HTMLAttributes<HTMLDivElement> {\n  /** 현재 페이지 (1-based) */\n  currentPage: number\n  /** 전체 페이지 수 */\n  totalPages: number\n  /** 페이지 변경 핸들러 */\n  onPageChange?: (page: number) => void\n  /** 표시할 페이지 버튼 수 (기본: 5) */\n  siblingCount?: number\n  /** Previous 버튼 텍스트 */\n  previousLabel?: string\n  /** Next 버튼 텍스트 */\n  nextLabel?: string\n}\n\nfunction getPageNumbers(\n  currentPage: number,\n  totalPages: number,\n  siblingCount: number\n): (number | \"ellipsis\")[] {\n  const totalNumbers = siblingCount * 2 + 3 // siblings + current + first + last\n  const totalButtons = totalNumbers + 2 // + 2 ellipsis\n\n  if (totalPages <= totalButtons) {\n    return Array.from({ length: totalPages }, (_, i) => i + 1)\n  }\n\n  const leftSiblingIndex = Math.max(currentPage - siblingCount, 1)\n  const rightSiblingIndex = Math.min(currentPage + siblingCount, totalPages)\n\n  const showLeftEllipsis = leftSiblingIndex > 2\n  const showRightEllipsis = rightSiblingIndex < totalPages - 1\n\n  if (!showLeftEllipsis && showRightEllipsis) {\n    const leftItemCount = 3 + 2 * siblingCount\n    const leftRange = Array.from({ length: leftItemCount }, (_, i) => i + 1)\n    return [...leftRange, \"ellipsis\", totalPages]\n  }\n\n  if (showLeftEllipsis && !showRightEllipsis) {\n    const rightItemCount = 3 + 2 * siblingCount\n    const rightRange = Array.from(\n      { length: rightItemCount },\n      (_, i) => totalPages - rightItemCount + i + 1\n    )\n    return [1, \"ellipsis\", ...rightRange]\n  }\n\n  const middleRange = Array.from(\n    { length: rightSiblingIndex - leftSiblingIndex + 1 },\n    (_, i) => leftSiblingIndex + i\n  )\n  return [1, \"ellipsis\", ...middleRange, \"ellipsis\", totalPages]\n}\n\nconst Pagination = React.forwardRef<HTMLDivElement, PaginationProps>(\n  (\n    {\n      className,\n      currentPage,\n      totalPages,\n      onPageChange,\n      siblingCount = 1,\n      previousLabel = \"Previous\",\n      nextLabel = \"Next\",\n      ...props\n    },\n    ref\n  ) => {\n    const pages = getPageNumbers(currentPage, totalPages, siblingCount)\n\n    const handlePageChange = (page: number) => {\n      if (page >= 1 && page <= totalPages && page !== currentPage) {\n        onPageChange?.(page)\n      }\n    }\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\"flex items-center gap-2\", className)}\n        {...props}\n      >\n        {/* Previous 버튼 */}\n        <Button\n          variant=\"ghost\"\n          size=\"default\"\n          onClick={() => handlePageChange(currentPage - 1)}\n          disabled={currentPage <= 1}\n          aria-label=\"이전 페이지\"\n        >\n          <LeftIcon size={20} />\n          {previousLabel}\n        </Button>\n\n        {/* 페이지 번호들 */}\n        <div className=\"flex items-center gap-1\">\n          {pages.map((page, index) => {\n            if (page === \"ellipsis\") {\n              return (\n                <span\n                  key={`ellipsis-${index}`}\n                  className=\"px-2 text-sm text-slate-400\"\n                >\n                  ...\n                </span>\n              )\n            }\n\n            const isActive = page === currentPage\n\n            return (\n              <Button\n                key={page}\n                variant=\"text\"\n                size=\"default\"\n                onClick={() => handlePageChange(page)}\n                className={cn(\n                  \"min-w-[36px]\",\n                  isActive && \"font-semibold text-slate-900 dark:text-white\"\n                )}\n                aria-label={`페이지 ${page}`}\n                aria-current={isActive ? \"page\" : undefined}\n              >\n                {page}\n              </Button>\n            )\n          })}\n        </div>\n\n        {/* Next 버튼 */}\n        <Button\n          variant=\"ghost\"\n          size=\"default\"\n          onClick={() => handlePageChange(currentPage + 1)}\n          disabled={currentPage >= totalPages}\n          aria-label=\"다음 페이지\"\n        >\n          {nextLabel}\n          <RightIcon size={20} />\n        </Button>\n      </div>\n    )\n  }\n)\nPagination.displayName = \"Pagination\"\n\nexport interface PageSizeSelectorProps {\n  /** 현재 페이지 사이즈 */\n  pageSize: number\n  /** 페이지 사이즈 옵션들 */\n  options?: number[]\n  /** 페이지 사이즈 변경 핸들러 */\n  onPageSizeChange?: (size: number) => void\n  /** 라벨 텍스트 */\n  label?: string\n  /** 추가 className */\n  className?: string\n}\n\nfunction PageSizeSelector({\n  className,\n  pageSize,\n  options = [10, 20, 50, 100],\n  onPageSizeChange,\n  label = \"페이지당 항목 수\",\n}: PageSizeSelectorProps) {\n  const selectOptions = options.map((option) => ({\n    label: String(option),\n    value: String(option),\n  }))\n\n  return (\n    <div className={cn(\"flex items-center gap-2\", className)}>\n      {label && (\n        <span className=\"text-xs text-slate-500 dark:text-slate-300 whitespace-nowrap\">\n          {label}\n        </span>\n      )}\n      <Select\n        value={String(pageSize)}\n        onValueChange={(value) => onPageSizeChange?.(Number(value))}\n        options={selectOptions}\n        size=\"sm\"\n        className=\"!w-[70px]\"\n        aria-label=\"페이지당 항목 수\"\n      />\n    </div>\n  )\n}\n\nexport { Pagination, PageSizeSelector }\n"],"names":["getPageNumbers","currentPage","totalPages","siblingCount","totalButtons","_","leftSiblingIndex","rightSiblingIndex","showLeftEllipsis","showRightEllipsis","leftItemCount","i","rightItemCount","Pagination","React","className","onPageChange","previousLabel","nextLabel","props","ref","pages","handlePageChange","page","jsxs","cn","Button","jsx","LeftIcon","index","isActive","RightIcon","PageSizeSelector","pageSize","options","onPageSizeChange","label","selectOptions","option","Select","value"],"mappings":"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"}