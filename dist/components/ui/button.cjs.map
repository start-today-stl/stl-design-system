{"version":3,"file":"button.cjs","sources":["../../../src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\n/** 버튼용 스피너 (흰색) */\nfunction ButtonSpinner({ size }: { size: \"default\" | \"sm\" }) {\n  const gradientId = React.useId()\n  const isSmall = size === \"sm\"\n\n  return (\n    <svg\n      className={cn(\"animate-spin\", isSmall ? \"size-3\" : \"size-6\")}\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <defs>\n        <linearGradient id={gradientId} x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\">\n          <stop offset=\"0%\" stopColor=\"rgba(255,255,255,1)\" />\n          <stop offset=\"100%\" stopColor=\"rgba(255,255,255,0.3)\" />\n        </linearGradient>\n      </defs>\n      <circle\n        cx=\"12\"\n        cy=\"12\"\n        r=\"10\"\n        stroke={`url(#${gradientId})`}\n        strokeWidth=\"4\"\n        strokeLinecap=\"round\"\n      />\n    </svg>\n  )\n}\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-0.5 whitespace-nowrap font-normal transition-colors cursor-pointer focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-30 [&_svg]:pointer-events-none [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        // Ghost (Slate) - 중립 버튼 (Figma: ButtonGhost)\n        ghost:\n          \"bg-slate-50 border-[0.75px] border-slate-200 text-slate-600 hover:bg-slate-200 active:bg-slate-300 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100 dark:hover:bg-slate-600 dark:active:bg-slate-500\",\n        // Ghost Outline (Slate) - 중립 버튼 아웃라인\n        \"ghost-outline\":\n          \"border-[0.75px] border-slate-500 text-slate-500 bg-transparent hover:bg-slate-500/50 hover:text-white active:bg-slate-500 active:text-white dark:border-slate-200 dark:text-slate-200 dark:hover:bg-slate-200/50 dark:active:bg-slate-200\",\n        // Primary (Blue) - 주요 액션 버튼 (Figma: ButtonPrimary)\n        primary:\n          \"bg-blue-500 text-white hover:bg-blue-600 active:bg-blue-700\",\n        // Primary Outline (Blue) - 주요 액션 버튼 아웃라인\n        \"primary-outline\":\n          \"border-[0.75px] border-blue-500 text-blue-500 bg-transparent hover:bg-blue-500/50 hover:text-white active:bg-blue-500 active:text-white\",\n        // Danger (Red) - 삭제/경고 버튼 (Figma: ButtonDanger)\n        danger:\n          \"bg-red-500 text-white hover:bg-red-600 active:bg-red-700\",\n        // Danger Outline (Red) - 삭제/경고 버튼 아웃라인\n        \"danger-outline\":\n          \"border-[0.75px] border-red-500 text-red-500 bg-transparent hover:bg-red-500/50 hover:text-white active:bg-red-500 active:text-white\",\n        // Success (Green) - 완료/긍정 버튼 (Figma: ButtonPositive)\n        success:\n          \"bg-green-500 text-white hover:bg-green-600 active:bg-green-700\",\n        // Success Outline (Green) - 완료/긍정 버튼 아웃라인\n        \"success-outline\":\n          \"border-[0.75px] border-green-500 text-green-500 bg-transparent hover:bg-green-500/50 hover:text-white active:bg-green-500 active:text-white\",\n        // Text - 텍스트만 있는 버튼 (배경/테두리 없음)\n        text: \"bg-transparent text-slate-600 hover:text-blue-500 active:text-blue-600 dark:text-slate-300 dark:hover:text-blue-400 dark:active:text-blue-500\",\n      },\n      size: {\n        // 텍스트 또는 아이콘+텍스트 버튼\n        default: \"h-9 px-2.5 py-2 rounded text-xs tracking-[-0.12px]\",\n        sm: \"h-6 px-2.5 py-2 rounded text-[10px] tracking-[-0.1px]\",\n        // 아이콘만 있는 버튼 (정사각형)\n        icon: \"h-9 w-9 p-2 rounded [&_svg]:ml-0\",\n        \"icon-sm\": \"h-8 w-8 p-1.5 rounded [&_svg]:ml-0\",\n      },\n    },\n    defaultVariants: {\n      variant: \"ghost\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n  /** 로딩 상태 (스피너 표시) */\n  loading?: boolean\n}\n\n/** 아이콘 위치 감지 */\nfunction detectIconPosition(children: React.ReactNode) {\n  const childArray = React.Children.toArray(children)\n  if (childArray.length === 0) return { hasIconLeft: false, hasIconRight: false, isIconOnly: false }\n\n  const first = childArray[0]\n  const last = childArray[childArray.length - 1]\n\n  const isSvgElement = (child: React.ReactNode): boolean => {\n    if (!React.isValidElement(child)) return false\n    // SVG 요소이거나, 컴포넌트가 svg를 반환하는 경우 (type이 'svg'이거나 displayName에 'Icon' 포함)\n    return (\n      child.type === \"svg\" ||\n      (typeof child.type === \"function\" && (child.type as React.FC).displayName?.includes(\"Icon\")) ||\n      (typeof child.type === \"function\" && child.type.name?.includes(\"Icon\"))\n    )\n  }\n\n  // 아이콘만 있는 경우 (children이 1개이고 그게 아이콘인 경우)\n  const isIconOnly = childArray.length === 1 && isSvgElement(first)\n\n  return {\n    hasIconLeft: isSvgElement(first) && childArray.length > 1,\n    hasIconRight: isSvgElement(last) && childArray.length > 1,\n    isIconOnly,\n  }\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, loading = false, children, disabled, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    const spinnerSize = size === \"sm\" ? \"sm\" : \"default\"\n\n    // 아이콘 위치 감지\n    const { hasIconLeft, hasIconRight, isIconOnly } = detectIconPosition(children)\n\n    // 아이콘 위치에 따른 패딩 클래스 (Figma 기준: 아이콘쪽 7px, 텍스트쪽 12px, 아이콘만 6px)\n    const getPaddingClass = () => {\n      if (size === \"icon\" || size === \"icon-sm\") return \"\" // 명시적 아이콘 버튼은 별도 패딩\n      if (isIconOnly) return \"!px-1.5\" // 아이콘만 있는 경우 양쪽 6px\n      if (hasIconLeft && hasIconRight) return \"!pl-[7px] !pr-[7px]\" // 양쪽 아이콘\n      if (hasIconLeft) return \"!pl-[7px] !pr-3\" // 왼쪽 아이콘 (pr-3 = 12px)\n      if (hasIconRight) return \"!pl-3 !pr-[7px]\" // 오른쪽 아이콘\n      return \"\" // 텍스트만 (기본 px-2.5 = 10px)\n    }\n\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }), getPaddingClass(), loading && \"relative\")}\n        ref={ref}\n        disabled={disabled || loading}\n        {...props}\n      >\n        {loading && (\n          <span className=\"absolute inset-0 flex items-center justify-center\">\n            <ButtonSpinner size={spinnerSize} />\n          </span>\n        )}\n        <span className={cn(\"inline-flex items-center gap-0.5\", loading && \"invisible\")}>{children}</span>\n      </Comp>\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n"],"names":["ButtonSpinner","size","gradientId","React","isSmall","jsxs","cn","jsx","buttonVariants","cva","detectIconPosition","children","childArray","first","last","isSvgElement","child","_a","_b","isIconOnly","Button","className","variant","asChild","loading","disabled","props","ref","Comp","Slot","spinnerSize","hasIconLeft","hasIconRight","getPaddingClass"],"mappings":"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"}