"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const c=require("react/jsx-runtime"),g=require("react"),n=require("date-fns"),h=require("../../lib/utils.cjs"),R=require("./input.cjs"),N=require("./calendar.cjs"),j=require("./popover.cjs"),T=require("../../icons/CalendarIcon.cjs");function _(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const o in e)if(o!=="default"){const l=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(t,o,l.get?l:{enumerable:!0,get:()=>e[o]})}}return t.default=e,Object.freeze(t)}const u=_(g),z=({value:e,onChange:t,label:o,placeholder:l="yyyy-mm-dd",dateFormat:s="yyyy-MM-dd",error:b,errorMessage:x,size:S="md",disabled:a,className:q,reserveLabelSpace:w,required:D})=>{const[I,p]=u.useState(!1),[O,y]=u.useState(e||new Date),[f,i]=u.useState(e?n.format(e,s):"");u.useEffect(()=>{i(e?n.format(e,s):"")},[e,s]);const P=r=>{const d=r.target.value;i(d);const m=n.parse(d,s,new Date);n.isValid(m)&&d.length===s.length&&(t==null||t(m))},M=()=>{if(!f){t==null||t(void 0);return}const r=n.parse(f,s,new Date);n.isValid(r)?(i(n.format(r,s)),t==null||t(r)):i(e?n.format(e,s):"")},k=r=>{r&&(i(n.format(r,s)),t==null||t(r)),p(!1)},V=r=>{p(r),r&&y(e||new Date)};return c.jsxs(j.Popover,{open:I,onOpenChange:V,children:[c.jsx(j.PopoverTrigger,{asChild:!0,disabled:a,children:c.jsx("div",{role:"combobox","aria-haspopup":"dialog",className:h.cn("inline-block",q),children:c.jsx(R.InputField,{label:o,value:f,onChange:P,onBlur:M,placeholder:l,error:b,errorMessage:x,size:S,disabled:a,autoComplete:"off",rightIcon:c.jsx(T.CalendarIcon,{size:24}),onRightIconClick:()=>!a&&p(!0),reserveLabelSpace:w,required:D})})}),c.jsx(j.PopoverContent,{className:"w-auto border-0 bg-transparent p-0 shadow-none",align:"start",children:c.jsx(N.Calendar,{mode:"single",selected:e,onSelect:k,month:O,onMonthChange:y,initialFocus:!0})})]})};exports.DatePicker=z;
//# sourceMappingURL=date-picker.cjs.map
