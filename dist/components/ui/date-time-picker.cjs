"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const r=require("react/jsx-runtime"),E=require("react"),n=require("date-fns"),A=require("../../lib/utils.cjs"),G=require("./input.cjs"),J=require("./calendar.cjs"),b=require("./popover.cjs"),K=require("../../icons/CalenderIcon.cjs"),N=require("../../icons/DirectionIcon.cjs");function L(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const o in e)if(o!=="default"){const p=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(t,o,p.get?p:{enumerable:!0,get:()=>e[o]})}}return t.default=e,Object.freeze(t)}const x=L(E),j=({value:e,onChange:t,max:o,disabled:p})=>{const i=()=>{t(e>=o?0:e+1)},y=()=>{t(e<=0?o:e-1)};return r.jsxs("div",{className:"flex flex-col items-center gap-1",children:[r.jsx("button",{type:"button",onClick:i,disabled:p,className:"flex size-[10px] cursor-pointer items-center justify-center text-gray-200 hover:text-gray-400 disabled:cursor-not-allowed disabled:opacity-50",children:r.jsx(N.DirectionIcon,{size:10,className:"rotate-180"})}),r.jsx("div",{className:"flex h-[23px] w-[34px] items-center justify-center rounded-[2px] p-[5px]",children:r.jsx("span",{className:"text-xs font-normal tabular-nums text-gray-500 tracking-[-0.18px] dark:text-gray-300",children:e.toString().padStart(2,"0")})}),r.jsx("button",{type:"button",onClick:y,disabled:p,className:"flex size-[10px] cursor-pointer items-center justify-center text-gray-200 hover:text-gray-400 disabled:cursor-not-allowed disabled:opacity-50",children:r.jsx(N.DirectionIcon,{size:10})})]})},Q=({value:e,onChange:t,label:o,placeholder:p="yyyy-mm-dd 00:00:00",dateFormat:i="yyyy-MM-dd HH:mm:ss",error:y,errorMessage:M,size:I="md",disabled:l,className:q})=>{const[H,g]=x.useState(!1),[O,w]=x.useState(e||new Date),[S,d]=x.useState(e?n.format(e,i):""),[h,u]=x.useState((e==null?void 0:e.getHours())??0),[D,f]=x.useState((e==null?void 0:e.getMinutes())??0),[k,m]=x.useState((e==null?void 0:e.getSeconds())??0);x.useEffect(()=>{d(e?n.format(e,i):""),e&&(u(e.getHours()),f(e.getMinutes()),m(e.getSeconds()))},[e,i]);const P=s=>{const c=s.target.value;d(c);const a=n.parse(c,i,new Date);n.isValid(a)&&c.length===i.length&&(u(a.getHours()),f(a.getMinutes()),m(a.getSeconds()),t==null||t(a))},T=()=>{if(!S){t==null||t(void 0);return}const s=n.parse(S,i,new Date);n.isValid(s)?(d(n.format(s,i)),u(s.getHours()),f(s.getMinutes()),m(s.getSeconds()),t==null||t(s)):d(e?n.format(e,i):"")},_=s=>{if(s){let c=n.setHours(s,h);c=n.setMinutes(c,D),c=n.setSeconds(c,k),d(n.format(c,i)),t==null||t(c)}},z=s=>{if(u(s),e){const c=n.setHours(e,s);d(n.format(c,i)),t==null||t(c)}},V=s=>{if(f(s),e){const c=n.setMinutes(e,s);d(n.format(c,i)),t==null||t(c)}},R=s=>{if(m(s),e){const c=n.setSeconds(e,s);d(n.format(c,i)),t==null||t(c)}},B=s=>{g(s),s&&w(e||new Date)};return r.jsxs(b.Popover,{open:H,onOpenChange:B,children:[r.jsx(b.PopoverTrigger,{asChild:!0,disabled:l,children:r.jsx("div",{role:"combobox","aria-haspopup":"dialog",className:A.cn("inline-block",q),children:r.jsx(G.InputField,{label:o,value:S,onChange:P,onBlur:T,placeholder:p,error:y,errorMessage:M,size:I,disabled:l,autoComplete:"off",rightIcon:r.jsx(K.CalenderIcon,{size:24}),onRightIconClick:()=>!l&&g(!0)})})}),r.jsxs(b.PopoverContent,{className:"w-[260px] overflow-hidden rounded-[5px] border border-gray-100 bg-white/95 p-0 shadow-[10px_10px_10px_0px_rgba(0,0,0,0.05)] backdrop-blur-[12px] dark:border-dark-100 dark:bg-dark-500/95",align:"start",children:[r.jsx(J.Calendar,{mode:"single",selected:e,onSelect:_,month:O,onMonthChange:w,initialFocus:!0,className:"w-full border-0 bg-transparent shadow-none"}),r.jsx("div",{className:"flex items-center justify-center px-3 pb-3 pt-1",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(j,{value:h,onChange:z,max:23,disabled:l}),r.jsx("span",{className:"flex h-[23px] w-[9px] items-center justify-center text-xs text-gray-500",children:":"}),r.jsx(j,{value:D,onChange:V,max:59,disabled:l}),r.jsx("span",{className:"flex h-[23px] w-[9px] items-center justify-center text-xs text-gray-500",children:":"}),r.jsx(j,{value:k,onChange:R,max:59,disabled:l})]})})]})]})};exports.DateTimePicker=Q;exports.TimeSpinner=j;
//# sourceMappingURL=date-time-picker.cjs.map
