"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const r=require("react/jsx-runtime"),E=require("react"),n=require("date-fns"),A=require("../../lib/utils.cjs"),G=require("./input.cjs"),J=require("./calendar.cjs"),y=require("./popover.cjs"),K=require("../../icons/CalenderIcon.cjs"),M=require("../../icons/DirectionIcon.cjs");function L(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const o in e)if(o!=="default"){const a=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(t,o,a.get?a:{enumerable:!0,get:()=>e[o]})}}return t.default=e,Object.freeze(t)}const d=L(E),j=({value:e,onChange:t,max:o,disabled:a})=>{const i=()=>{t(e>=o?0:e+1)},S=()=>{t(e<=0?o:e-1)};return r.jsxs("div",{className:"flex flex-col items-center gap-1",children:[r.jsx("button",{type:"button",onClick:i,disabled:a,className:"flex size-[10px] cursor-pointer items-center justify-center text-slate-200 hover:text-slate-400 disabled:cursor-not-allowed disabled:opacity-50 dark:text-slate-100 dark:hover:text-slate-50",children:r.jsx(M.DirectionIcon,{size:10,className:"rotate-180"})}),r.jsx("div",{className:"flex h-[23px] w-[34px] items-center justify-center rounded-[2px] p-[5px]",children:r.jsx("span",{className:"text-xs font-normal tabular-nums text-slate-500 tracking-[-0.18px] dark:text-slate-300",children:e.toString().padStart(2,"0")})}),r.jsx("button",{type:"button",onClick:S,disabled:a,className:"flex size-[10px] cursor-pointer items-center justify-center text-slate-200 hover:text-slate-400 disabled:cursor-not-allowed disabled:opacity-50 dark:text-slate-100 dark:hover:text-slate-50",children:r.jsx(M.DirectionIcon,{size:10})})]})},Q=({value:e,onChange:t,label:o,placeholder:a="yyyy-mm-dd 00:00:00",dateFormat:i="yyyy-MM-dd HH:mm:ss",error:S,errorMessage:g,size:I="md",disabled:x,className:q})=>{const[H,w]=d.useState(!1),[O,h]=d.useState(e||new Date),[b,l]=d.useState(e?n.format(e,i):""),[k,u]=d.useState((e==null?void 0:e.getHours())??0),[D,f]=d.useState((e==null?void 0:e.getMinutes())??0),[N,m]=d.useState((e==null?void 0:e.getSeconds())??0);d.useEffect(()=>{l(e?n.format(e,i):""),e&&(u(e.getHours()),f(e.getMinutes()),m(e.getSeconds()))},[e,i]);const P=s=>{const c=s.target.value;l(c);const p=n.parse(c,i,new Date);n.isValid(p)&&c.length===i.length&&(u(p.getHours()),f(p.getMinutes()),m(p.getSeconds()),t==null||t(p))},T=()=>{if(!b){t==null||t(void 0);return}const s=n.parse(b,i,new Date);n.isValid(s)?(l(n.format(s,i)),u(s.getHours()),f(s.getMinutes()),m(s.getSeconds()),t==null||t(s)):l(e?n.format(e,i):"")},_=s=>{if(s){let c=n.setHours(s,k);c=n.setMinutes(c,D),c=n.setSeconds(c,N),l(n.format(c,i)),t==null||t(c)}},z=s=>{if(u(s),e){const c=n.setHours(e,s);l(n.format(c,i)),t==null||t(c)}},V=s=>{if(f(s),e){const c=n.setMinutes(e,s);l(n.format(c,i)),t==null||t(c)}},R=s=>{if(m(s),e){const c=n.setSeconds(e,s);l(n.format(c,i)),t==null||t(c)}},B=s=>{w(s),s&&h(e||new Date)};return r.jsxs(y.Popover,{open:H,onOpenChange:B,children:[r.jsx(y.PopoverTrigger,{asChild:!0,disabled:x,children:r.jsx("div",{role:"combobox","aria-haspopup":"dialog",className:A.cn("inline-block",q),children:r.jsx(G.InputField,{label:o,value:b,onChange:P,onBlur:T,placeholder:a,error:S,errorMessage:g,size:I,disabled:x,autoComplete:"off",rightIcon:r.jsx(K.CalenderIcon,{size:24}),onRightIconClick:()=>!x&&w(!0)})})}),r.jsx(y.PopoverContent,{className:"w-auto border-0 bg-transparent p-0 shadow-none",align:"start",children:r.jsxs("div",{className:"w-[260px] overflow-hidden rounded-[5px] border border-slate-100 bg-white/95 shadow-[10px_10px_10px_0px_rgba(0,0,0,0.05)] backdrop-blur-[12px] dark:border-slate-600 dark:bg-slate-800/95",children:[r.jsx(J.Calendar,{mode:"single",selected:e,onSelect:_,month:O,onMonthChange:h,initialFocus:!0,unstyled:!0,className:"w-full p-3"}),r.jsx("div",{className:"flex items-center justify-center px-3 pb-3 pt-1",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(j,{value:k,onChange:z,max:23,disabled:x}),r.jsx("span",{className:"flex h-[23px] w-[9px] items-center justify-center text-xs text-slate-500 dark:text-slate-300",children:":"}),r.jsx(j,{value:D,onChange:V,max:59,disabled:x}),r.jsx("span",{className:"flex h-[23px] w-[9px] items-center justify-center text-xs text-slate-500 dark:text-slate-300",children:":"}),r.jsx(j,{value:N,onChange:R,max:59,disabled:x})]})})]})})]})};exports.DateTimePicker=Q;exports.TimeSpinner=j;
//# sourceMappingURL=date-time-picker.cjs.map
