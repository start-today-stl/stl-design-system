"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const r=require("react/jsx-runtime"),E=require("react"),n=require("date-fns"),A=require("../../lib/utils.cjs"),G=require("./input.cjs"),J=require("./calendar.cjs"),b=require("./popover.cjs"),K=require("../../icons/CalenderIcon.cjs"),N=require("../../icons/DirectionIcon.cjs");function L(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const o in e)if(o!=="default"){const a=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(t,o,a.get?a:{enumerable:!0,get:()=>e[o]})}}return t.default=e,Object.freeze(t)}const x=L(E),y=({value:e,onChange:t,max:o,disabled:a})=>{const i=()=>{t(e>=o?0:e+1)},j=()=>{t(e<=0?o:e-1)};return r.jsxs("div",{className:"flex flex-col items-center gap-1",children:[r.jsx("button",{type:"button",onClick:i,disabled:a,className:"flex size-[10px] cursor-pointer items-center justify-center text-gray-200 hover:text-gray-400 disabled:cursor-not-allowed disabled:opacity-50 dark:text-gray-100 dark:hover:text-gray-50",children:r.jsx(N.DirectionIcon,{size:10,className:"rotate-180"})}),r.jsx("div",{className:"flex h-[23px] w-[34px] items-center justify-center rounded-[2px] p-[5px]",children:r.jsx("span",{className:"text-xs font-normal tabular-nums text-gray-500 tracking-[-0.18px] dark:text-dark-100",children:e.toString().padStart(2,"0")})}),r.jsx("button",{type:"button",onClick:j,disabled:a,className:"flex size-[10px] cursor-pointer items-center justify-center text-gray-200 hover:text-gray-400 disabled:cursor-not-allowed disabled:opacity-50 dark:text-gray-100 dark:hover:text-gray-50",children:r.jsx(N.DirectionIcon,{size:10})})]})},Q=({value:e,onChange:t,label:o,placeholder:a="yyyy-mm-dd 00:00:00",dateFormat:i="yyyy-MM-dd HH:mm:ss",error:j,errorMessage:M,size:I="md",disabled:p,className:q})=>{const[H,g]=x.useState(!1),[O,k]=x.useState(e||new Date),[S,d]=x.useState(e?n.format(e,i):""),[w,u]=x.useState((e==null?void 0:e.getHours())??0),[h,f]=x.useState((e==null?void 0:e.getMinutes())??0),[D,m]=x.useState((e==null?void 0:e.getSeconds())??0);x.useEffect(()=>{d(e?n.format(e,i):""),e&&(u(e.getHours()),f(e.getMinutes()),m(e.getSeconds()))},[e,i]);const P=s=>{const c=s.target.value;d(c);const l=n.parse(c,i,new Date);n.isValid(l)&&c.length===i.length&&(u(l.getHours()),f(l.getMinutes()),m(l.getSeconds()),t==null||t(l))},T=()=>{if(!S){t==null||t(void 0);return}const s=n.parse(S,i,new Date);n.isValid(s)?(d(n.format(s,i)),u(s.getHours()),f(s.getMinutes()),m(s.getSeconds()),t==null||t(s)):d(e?n.format(e,i):"")},_=s=>{if(s){let c=n.setHours(s,w);c=n.setMinutes(c,h),c=n.setSeconds(c,D),d(n.format(c,i)),t==null||t(c)}},z=s=>{if(u(s),e){const c=n.setHours(e,s);d(n.format(c,i)),t==null||t(c)}},V=s=>{if(f(s),e){const c=n.setMinutes(e,s);d(n.format(c,i)),t==null||t(c)}},R=s=>{if(m(s),e){const c=n.setSeconds(e,s);d(n.format(c,i)),t==null||t(c)}},B=s=>{g(s),s&&k(e||new Date)};return r.jsxs(b.Popover,{open:H,onOpenChange:B,children:[r.jsx(b.PopoverTrigger,{asChild:!0,disabled:p,children:r.jsx("div",{role:"combobox","aria-haspopup":"dialog",className:A.cn("inline-block",q),children:r.jsx(G.InputField,{label:o,value:S,onChange:P,onBlur:T,placeholder:a,error:j,errorMessage:M,size:I,disabled:p,autoComplete:"off",rightIcon:r.jsx(K.CalenderIcon,{size:24}),onRightIconClick:()=>!p&&g(!0)})})}),r.jsx(b.PopoverContent,{className:"w-auto border-0 bg-transparent p-0 shadow-none",align:"start",children:r.jsxs("div",{className:"w-[260px] overflow-hidden rounded-[5px] border border-gray-100 bg-white/95 shadow-[10px_10px_10px_0px_rgba(0,0,0,0.05)] backdrop-blur-[12px] dark:border-dark-200 dark:bg-dark-500/95",children:[r.jsx(J.Calendar,{mode:"single",selected:e,onSelect:_,month:O,onMonthChange:k,initialFocus:!0,unstyled:!0,className:"w-full p-3"}),r.jsx("div",{className:"flex items-center justify-center px-3 pb-3 pt-1",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(y,{value:w,onChange:z,max:23,disabled:p}),r.jsx("span",{className:"flex h-[23px] w-[9px] items-center justify-center text-xs text-gray-500 dark:text-dark-100",children:":"}),r.jsx(y,{value:h,onChange:V,max:59,disabled:p}),r.jsx("span",{className:"flex h-[23px] w-[9px] items-center justify-center text-xs text-gray-500 dark:text-dark-100",children:":"}),r.jsx(y,{value:D,onChange:R,max:59,disabled:p})]})})]})})]})};exports.DateTimePicker=Q;exports.TimeSpinner=y;
//# sourceMappingURL=date-time-picker.cjs.map
