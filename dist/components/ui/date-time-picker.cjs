"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const r=require("react/jsx-runtime"),E=require("react"),c=require("date-fns"),A=require("../../lib/utils.cjs"),G=require("./input.cjs"),J=require("./calendar.cjs"),y=require("./popover.cjs"),K=require("../../icons/CalendarIcon.cjs"),L=require("../../icons/DownIcon.cjs"),Q=require("../../icons/UpIcon.cjs");function W(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const o in e)if(o!=="default"){const d=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(t,o,d.get?d:{enumerable:!0,get:()=>e[o]})}}return t.default=e,Object.freeze(t)}const a=W(E),j=({value:e,onChange:t,max:o,disabled:d})=>{const i=()=>{t(e>=o?0:e+1)},S=()=>{t(e<=0?o:e-1)};return r.jsxs("div",{className:"flex flex-col items-center gap-0.5",children:[r.jsx("button",{type:"button",onClick:i,disabled:d,className:"flex size-5 cursor-pointer items-center justify-center text-slate-400 hover:text-slate-600 disabled:cursor-not-allowed disabled:opacity-50 dark:text-slate-400 dark:hover:text-slate-200",children:r.jsx(Q.UpIcon,{size:20})}),r.jsx("div",{className:"flex h-[23px] w-[34px] items-center justify-center rounded-[2px] p-[5px]",children:r.jsx("span",{className:"text-xs font-normal tabular-nums text-slate-500 tracking-[-0.18px] dark:text-slate-300",children:e.toString().padStart(2,"0")})}),r.jsx("button",{type:"button",onClick:S,disabled:d,className:"flex size-5 cursor-pointer items-center justify-center text-slate-400 hover:text-slate-600 disabled:cursor-not-allowed disabled:opacity-50 dark:text-slate-400 dark:hover:text-slate-200",children:r.jsx(L.DownIcon,{size:20})})]})},X=({value:e,onChange:t,label:o,placeholder:d="yyyy-mm-dd 00:00:00",dateFormat:i="yyyy-MM-dd HH:mm:ss",error:S,errorMessage:M,size:g="md",disabled:x,className:I,reserveLabelSpace:q,required:H})=>{const[O,w]=a.useState(!1),[P,h]=a.useState(e||new Date),[b,l]=a.useState(e?c.format(e,i):""),[k,u]=a.useState((e==null?void 0:e.getHours())??0),[D,f]=a.useState((e==null?void 0:e.getMinutes())??0),[N,m]=a.useState((e==null?void 0:e.getSeconds())??0);a.useEffect(()=>{l(e?c.format(e,i):""),e&&(u(e.getHours()),f(e.getMinutes()),m(e.getSeconds()))},[e,i]);const T=s=>{const n=s.target.value;l(n);const p=c.parse(n,i,new Date);c.isValid(p)&&n.length===i.length&&(u(p.getHours()),f(p.getMinutes()),m(p.getSeconds()),t==null||t(p))},_=()=>{if(!b){t==null||t(void 0);return}const s=c.parse(b,i,new Date);c.isValid(s)?(l(c.format(s,i)),u(s.getHours()),f(s.getMinutes()),m(s.getSeconds()),t==null||t(s)):l(e?c.format(e,i):"")},z=s=>{if(s){let n=c.setHours(s,k);n=c.setMinutes(n,D),n=c.setSeconds(n,N),l(c.format(n,i)),t==null||t(n)}},V=s=>{if(u(s),e){const n=c.setHours(e,s);l(c.format(n,i)),t==null||t(n)}},R=s=>{if(f(s),e){const n=c.setMinutes(e,s);l(c.format(n,i)),t==null||t(n)}},B=s=>{if(m(s),e){const n=c.setSeconds(e,s);l(c.format(n,i)),t==null||t(n)}},U=s=>{w(s),s&&h(e||new Date)};return r.jsxs(y.Popover,{open:O,onOpenChange:U,children:[r.jsx(y.PopoverTrigger,{asChild:!0,disabled:x,children:r.jsx("div",{role:"combobox","aria-haspopup":"dialog",className:A.cn("inline-block",I),children:r.jsx(G.InputField,{label:o,value:b,onChange:T,onBlur:_,placeholder:d,error:S,errorMessage:M,size:g,disabled:x,autoComplete:"off",rightIcon:r.jsx(K.CalendarIcon,{size:24}),onRightIconClick:()=>!x&&w(!0),reserveLabelSpace:q,required:H})})}),r.jsx(y.PopoverContent,{className:"w-auto border-0 bg-transparent p-0 shadow-none",align:"start",children:r.jsxs("div",{className:"w-[260px] overflow-hidden rounded-[5px] border border-slate-100 bg-white/95 shadow-[10px_10px_10px_0px_rgba(0,0,0,0.05)] backdrop-blur-[12px] dark:border-slate-600 dark:bg-slate-800/95",children:[r.jsx(J.Calendar,{mode:"single",selected:e,onSelect:z,month:P,onMonthChange:h,initialFocus:!0,unstyled:!0,className:"w-full p-3"}),r.jsx("div",{className:"flex items-center justify-center px-3 pb-3 pt-1",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(j,{value:k,onChange:V,max:23,disabled:x}),r.jsx("span",{className:"flex h-[23px] w-[9px] items-center justify-center text-xs text-slate-500 dark:text-slate-300",children:":"}),r.jsx(j,{value:D,onChange:R,max:59,disabled:x}),r.jsx("span",{className:"flex h-[23px] w-[9px] items-center justify-center text-xs text-slate-500 dark:text-slate-300",children:":"}),r.jsx(j,{value:N,onChange:B,max:59,disabled:x})]})})]})})]})};exports.DateTimePicker=X;exports.TimeSpinner=j;
//# sourceMappingURL=date-time-picker.cjs.map
