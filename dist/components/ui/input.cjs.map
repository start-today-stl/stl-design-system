{"version":3,"file":"input.cjs","sources":["../../../src/components/ui/input.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\nimport { Spinner } from \"@/components/ui/spinner\";\nimport { EyeIcon } from \"@/icons\";\n\nconst inputBaseStyles = [\n  \"flex rounded-[5px] border bg-slate-50/50 dark:bg-slate-800\",\n  \"h-9 px-3 text-xs text-slate-900 dark:text-slate-100\",\n  \"outline-none transition-colors\",\n  \"disabled:cursor-not-allowed disabled:opacity-50\",\n].join(\" \");\n\nconst inputDefaultStyles = [\n  \"border-slate-100 dark:border-slate-500\",\n  \"placeholder:text-slate-300 dark:placeholder:text-slate-100\",\n  \"focus:border-blue-500 focus:shadow-[0px_0px_6px_0px_rgba(23,118,255,0.5)]\",\n].join(\" \");\n\nconst inputTableModeStyles = [\n  \"border-slate-300 dark:border-slate-500\",\n  \"placeholder:text-slate-300 dark:placeholder:text-slate-100\",\n  \"focus:border-slate-500 focus:border-[1.5px] focus:shadow-none dark:focus:border-slate-300\",\n].join(\" \");\n\nconst inputErrorStyles = [\n  \"border-destructive dark:border-red-500\",\n  \"placeholder:text-destructive dark:placeholder:text-red-400\",\n  \"focus:border-destructive focus:shadow-[0px_0px_6px_0px_rgba(239,68,68,0.5)] dark:focus:border-red-500\",\n].join(\" \");\n\nconst inputSizeStyles = {\n  sm: \"w-[160px]\",\n  md: \"w-[260px]\",\n  lg: \"w-[360px]\",\n  full: \"w-full\",\n} as const;\n\nexport type InputSize = keyof typeof inputSizeStyles;\n\n/** 순수 Input 컴포넌트 - label/error 없이 input만 렌더링 */\nexport interface InputProps extends React.InputHTMLAttributes<HTMLInputElement> {\n  /** 에러 상태 */\n  error?: boolean;\n  /** 테이블 모드 (파란 glow 대신 border 강조) */\n  tableMode?: boolean;\n}\n\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\n  ({ className, error, tableMode, ...props }, ref) => {\n    const getStyleVariant = () => {\n      if (error) return inputErrorStyles;\n      if (tableMode) return inputTableModeStyles;\n      return inputDefaultStyles;\n    };\n\n    return (\n      <input\n        ref={ref}\n        className={cn(inputBaseStyles, getStyleVariant(), className)}\n        aria-invalid={error}\n        {...props}\n      />\n    );\n  },\n);\nInput.displayName = \"Input\";\n\n/** InputField - label과 error 메시지를 포함한 Input 래퍼 */\nexport interface InputFieldProps extends Omit<\n  React.InputHTMLAttributes<HTMLInputElement>,\n  \"size\"\n> {\n  /** 라벨 텍스트 */\n  label?: string;\n  /** 에러 상태 */\n  error?: boolean;\n  /** 에러 메시지 */\n  errorMessage?: string;\n  /** 너비 크기 */\n  size?: InputSize;\n  /** 우측 아이콘 (ReactNode) */\n  rightIcon?: React.ReactNode;\n  /** 우측 아이콘 클릭 핸들러 */\n  onRightIconClick?: () => void;\n  /** 우측 아이콘 버튼의 접근성 라벨 */\n  rightIconLabel?: string;\n  /** 라벨이 없어도 라벨 공간 유지 */\n  reserveLabelSpace?: boolean;\n  /** 로딩 상태 (스피너 표시) */\n  loading?: boolean;\n  /** 비밀번호 보기 토글 표시 (type=\"password\"일 때 기본 true) */\n  showPasswordToggle?: boolean;\n}\n\nconst InputField = React.forwardRef<HTMLInputElement, InputFieldProps>(\n  (\n    { className, label, error, errorMessage, size = \"full\", id, rightIcon, onRightIconClick, rightIconLabel = \"아이콘 버튼\", reserveLabelSpace, loading, showPasswordToggle, type, ...props },\n    ref,\n  ) => {\n    const inputId = id || React.useId();\n    const [showPassword, setShowPassword] = React.useState(false);\n\n    // type=\"password\"이고 showPasswordToggle이 명시적으로 false가 아니면 토글 표시\n    const isPasswordType = type === \"password\";\n    const shouldShowPasswordToggle = isPasswordType && showPasswordToggle !== false;\n\n    const hasRightContent = rightIcon || loading || shouldShowPasswordToggle;\n\n    // 실제 input type 결정\n    const inputType = isPasswordType && showPassword ? \"text\" : type;\n\n    // 우측 콘텐츠 렌더링\n    const renderRightContent = () => {\n      if (loading) {\n        return (\n          <div className=\"absolute right-2 top-1/2 -translate-y-1/2\">\n            <Spinner size=\"sm\" />\n          </div>\n        );\n      }\n\n      if (shouldShowPasswordToggle) {\n        return (\n          <button\n            type=\"button\"\n            onClick={() => setShowPassword(!showPassword)}\n            aria-label={showPassword ? \"비밀번호 숨기기\" : \"비밀번호 보기\"}\n            className={cn(\n              \"absolute right-2 top-1/2 -translate-y-1/2 text-slate-900 hover:text-slate-600 dark:text-slate-50 dark:hover:text-white\",\n              showPassword && \"text-blue-500 hover:text-blue-600 dark:text-blue-400 dark:hover:text-blue-300\"\n            )}\n            tabIndex={-1}\n          >\n            <EyeIcon size={24} />\n          </button>\n        );\n      }\n\n      if (rightIcon) {\n        return (\n          <button\n            type=\"button\"\n            onClick={onRightIconClick}\n            aria-label={rightIconLabel}\n            className=\"absolute right-2 top-1/2 -translate-y-1/2 text-slate-900 hover:text-slate-600 dark:text-slate-50 dark:hover:text-white\"\n            tabIndex={-1}\n          >\n            {rightIcon}\n          </button>\n        );\n      }\n\n      return null;\n    };\n\n    return (\n      <div className={cn(\"flex flex-col gap-1\", inputSizeStyles[size])}>\n        {(label || reserveLabelSpace) && (\n          <label\n            htmlFor={inputId}\n            className={cn(\n              \"text-xs text-slate-600 dark:text-slate-50\",\n              !label && \"invisible\"\n            )}\n          >\n            {label || \"\\u00A0\"}\n          </label>\n        )}\n        <div className=\"relative\">\n          <Input\n            id={inputId}\n            ref={ref}\n            type={inputType}\n            error={error}\n            className={cn(\"w-full\", hasRightContent && \"pr-9\", className)}\n            {...props}\n          />\n          {renderRightContent()}\n        </div>\n        {error && errorMessage && (\n          <span className=\"text-xs text-destructive dark:text-red-400\">\n            {errorMessage}\n          </span>\n        )}\n      </div>\n    );\n  },\n);\nInputField.displayName = \"InputField\";\n\nexport { Input, InputField, inputSizeStyles };\n"],"names":["inputBaseStyles","inputDefaultStyles","inputTableModeStyles","inputErrorStyles","inputSizeStyles","Input","React","className","error","tableMode","props","ref","getStyleVariant","jsx","cn","InputField","label","errorMessage","size","id","rightIcon","onRightIconClick","rightIconLabel","reserveLabelSpace","loading","showPasswordToggle","type","inputId","showPassword","setShowPassword","isPasswordType","shouldShowPasswordToggle","hasRightContent","inputType","renderRightContent","Spinner","EyeIcon","jsxs"],"mappings":"mgBAQMA,EAAkB,CACtB,6DACA,sDACA,iCACA,iDACF,EAAE,KAAK,GAAG,EAEJC,EAAqB,CACzB,yCACA,6DACA,2EACF,EAAE,KAAK,GAAG,EAEJC,EAAuB,CAC3B,yCACA,6DACA,2FACF,EAAE,KAAK,GAAG,EAEJC,EAAmB,CACvB,yCACA,6DACA,uGACF,EAAE,KAAK,GAAG,EAEJC,EAAkB,CACtB,GAAI,YACJ,GAAI,YACJ,GAAI,YACJ,KAAM,QACR,EAYMC,EAAQC,EAAM,WAClB,CAAC,CAAE,UAAAC,EAAW,MAAAC,EAAO,UAAAC,EAAW,GAAGC,CAAA,EAASC,IAAQ,CAClD,MAAMC,EAAkB,IAClBJ,EAAcL,EACdM,EAAkBP,EACfD,EAGT,OACEY,EAAAA,IAAC,QAAA,CACC,IAAAF,EACA,UAAWG,EAAAA,GAAGd,EAAiBY,EAAA,EAAmBL,CAAS,EAC3D,eAAcC,EACb,GAAGE,CAAA,CAAA,CAGV,CACF,EACAL,EAAM,YAAc,QA6BpB,MAAMU,EAAaT,EAAM,WACvB,CACE,CAAE,UAAAC,EAAW,MAAAS,EAAO,MAAAR,EAAO,aAAAS,EAAc,KAAAC,EAAO,OAAQ,GAAAC,EAAI,UAAAC,EAAW,iBAAAC,EAAkB,eAAAC,EAAiB,SAAU,kBAAAC,EAAmB,QAAAC,EAAS,mBAAAC,EAAoB,KAAAC,EAAM,GAAGhB,CAAA,EAC7KC,IACG,CACH,MAAMgB,EAAUR,GAAMb,EAAM,MAAA,EACtB,CAACsB,EAAcC,CAAe,EAAIvB,EAAM,SAAS,EAAK,EAGtDwB,EAAiBJ,IAAS,WAC1BK,EAA2BD,GAAkBL,IAAuB,GAEpEO,EAAkBZ,GAAaI,GAAWO,EAG1CE,EAAYH,GAAkBF,EAAe,OAASF,EAGtDQ,EAAqB,IACrBV,EAEAX,MAAC,OAAI,UAAU,4CACb,eAACsB,EAAAA,QAAA,CAAQ,KAAK,KAAK,CAAA,CACrB,EAIAJ,EAEAlB,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,QAAS,IAAMgB,EAAgB,CAACD,CAAY,EAC5C,aAAYA,EAAe,WAAa,UACxC,UAAWd,EAAAA,GACT,yHACAc,GAAgB,+EAAA,EAElB,SAAU,GAEV,SAAAf,EAAAA,IAACuB,EAAAA,QAAA,CAAQ,KAAM,EAAA,CAAI,CAAA,CAAA,EAKrBhB,EAEAP,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,QAASQ,EACT,aAAYC,EACZ,UAAU,yHACV,SAAU,GAET,SAAAF,CAAA,CAAA,EAKA,KAGT,OACEiB,EAAAA,KAAC,OAAI,UAAWvB,EAAAA,GAAG,sBAAuBV,EAAgBc,CAAI,CAAC,EAC3D,SAAA,EAAAF,GAASO,IACTV,EAAAA,IAAC,QAAA,CACC,QAASc,EACT,UAAWb,EAAAA,GACT,4CACA,CAACE,GAAS,WAAA,EAGX,SAAAA,GAAS,GAAA,CAAA,EAGdqB,EAAAA,KAAC,MAAA,CAAI,UAAU,WACb,SAAA,CAAAxB,EAAAA,IAACR,EAAA,CACC,GAAIsB,EACJ,IAAAhB,EACA,KAAMsB,EACN,MAAAzB,EACA,UAAWM,EAAAA,GAAG,SAAUkB,GAAmB,OAAQzB,CAAS,EAC3D,GAAGG,CAAA,CAAA,EAELwB,EAAA,CAAmB,EACtB,EACC1B,GAASS,GACRJ,EAAAA,IAAC,OAAA,CAAK,UAAU,6CACb,SAAAI,CAAA,CACH,CAAA,EAEJ,CAEJ,CACF,EACAF,EAAW,YAAc"}