{"version":3,"file":"modal.cjs","sources":["../../../src/components/ui/modal.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogClose,\n} from \"@/components/ui/dialog\";\nimport { STLArrowIcon, XIcon } from \"@/icons\";\n\nexport interface ModalProps {\n  /** 모달 크기 */\n  size?: \"s\" | \"m\" | \"l\" | \"xl\";\n  /** 모달 열림 상태 */\n  open?: boolean;\n  /** 모달 열림/닫힘 상태 변경 핸들러 */\n  onOpenChange?: (open: boolean) => void;\n  /** 모달 제목 */\n  title?: React.ReactNode;\n  /** 모달 설명 */\n  description?: React.ReactNode;\n  /** 모달 본문 내용 */\n  children?: React.ReactNode;\n  /** 모달 하단 버튼 영역 */\n  footer?: React.ReactNode;\n  /** 추가 className */\n  className?: string;\n  /** 로딩 상태 (스플래시 표시) */\n  loading?: boolean;\n  /** 닫기 버튼 표시 (true: X 버튼, false: STL 아이콘) */\n  showCloseButton?: boolean;\n}\n\nconst Modal = ({\n  size = \"l\",\n  open,\n  onOpenChange,\n  title,\n  description,\n  children,\n  footer,\n  className,\n  loading = false,\n  showCloseButton = false,\n}: ModalProps) => {\n  // Size configuration\n  const sizeConfig = {\n    s: \"max-w-[400px]\",\n    m: \"max-w-[600px]\",\n    l: \"max-w-[900px]\",\n    xl: \"max-w-[1200px]\",\n  };\n\n  // footer 자식 개수에 따른 정렬 (Fragment 내부 자식도 카운트)\n  const getChildCount = (children: React.ReactNode): number => {\n    if (!children) return 0;\n    if (React.isValidElement(children) && children.type === React.Fragment) {\n      return React.Children.count(children.props.children);\n    }\n    return React.Children.count(children);\n  };\n  const footerChildCount = getChildCount(footer);\n\n  // 헤더 우측 아이콘 렌더링\n  const renderHeaderIcon = () => {\n    if (showCloseButton) {\n      return (\n        <DialogClose className=\"absolute right-4 top-4 rounded-sm opacity-70 transition-opacity hover:opacity-100 focus:outline-none disabled:pointer-events-none cursor-pointer\">\n          <XIcon size={24} />\n          <span className=\"sr-only\">닫기</span>\n        </DialogClose>\n      );\n    }\n    return (\n      <div className=\"absolute right-4 top-4\">\n        <STLArrowIcon size={29} className=\"text-slate-200 dark:text-slate-600\" />\n      </div>\n    );\n  };\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className={cn(sizeConfig[size], className)} loading={loading}>\n        {!loading && (\n          <>\n            {renderHeaderIcon()}\n            {(title || description) && (\n              <DialogHeader className=\"pr-10\">\n                {title && <DialogTitle>{title}</DialogTitle>}\n                {description && <DialogDescription>{description}</DialogDescription>}\n              </DialogHeader>\n            )}\n\n            {children && <div className=\"py-4\">{children}</div>}\n\n            {footer && (\n              <div\n                className={cn(\n                  \"flex flex-col-reverse gap-2 sm:flex-row w-full\",\n                  footerChildCount === 1 ? \"sm:justify-end\" : \"sm:justify-between\"\n                )}\n              >\n                {footer}\n              </div>\n            )}\n          </>\n        )}\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nexport { Modal };\n"],"names":["Modal","size","open","onOpenChange","title","description","children","footer","className","loading","showCloseButton","sizeConfig","footerChildCount","React","renderHeaderIcon","jsxs","DialogClose","jsx","XIcon","STLArrowIcon","Dialog","DialogContent","cn","Fragment","DialogHeader","DialogTitle","DialogDescription"],"mappings":"0iBAsCMA,EAAQ,CAAC,CACb,KAAAC,EAAO,IACP,KAAAC,EACA,aAAAC,EACA,MAAAC,EACA,YAAAC,EACA,SAAAC,EACA,OAAAC,EACA,UAAAC,EACA,QAAAC,EAAU,GACV,gBAAAC,EAAkB,EACpB,IAAkB,CAEhB,MAAMC,EAAa,CACjB,EAAG,gBACH,EAAG,gBACH,EAAG,gBACH,GAAI,gBAAA,EAWAC,GAPiBN,GAChBA,EACDO,EAAM,eAAeP,CAAQ,GAAKA,EAAS,OAASO,EAAM,SACrDA,EAAM,SAAS,MAAMP,EAAS,MAAM,QAAQ,EAE9CO,EAAM,SAAS,MAAMP,CAAQ,EAJd,GAMeC,CAAM,EAGvCO,EAAmB,IACnBJ,EAEAK,EAAAA,KAACC,EAAAA,YAAA,CAAY,UAAU,mJACrB,SAAA,CAAAC,EAAAA,IAACC,EAAAA,MAAA,CAAM,KAAM,EAAA,CAAI,EACjBD,EAAAA,IAAC,OAAA,CAAK,UAAU,UAAU,SAAA,IAAA,CAAE,CAAA,EAC9B,EAIFA,EAAAA,IAAC,MAAA,CAAI,UAAU,yBACb,SAAAA,EAAAA,IAACE,EAAAA,cAAa,KAAM,GAAI,UAAU,oCAAA,CAAqC,CAAA,CACzE,EAIJ,aACGC,SAAA,CAAO,KAAAlB,EAAY,aAAAC,EAClB,SAAAc,MAACI,EAAAA,eAAc,UAAWC,EAAAA,GAAGX,EAAWV,CAAI,EAAGO,CAAS,EAAG,QAAAC,EACxD,SAAA,CAACA,GACAM,EAAAA,KAAAQ,WAAA,CACG,SAAA,CAAAT,EAAA,GACCV,GAASC,IACTU,EAAAA,KAACS,EAAAA,aAAA,CAAa,UAAU,QACrB,SAAA,CAAApB,GAASa,EAAAA,IAACQ,EAAAA,aAAa,SAAArB,CAAA,CAAM,EAC7BC,GAAeY,EAAAA,IAACS,EAAAA,kBAAA,CAAmB,SAAArB,CAAA,CAAY,CAAA,EAClD,EAGDC,GAAYW,EAAAA,IAAC,MAAA,CAAI,UAAU,OAAQ,SAAAX,EAAS,EAE5CC,GACCU,EAAAA,IAAC,MAAA,CACC,UAAWK,EAAAA,GACT,iDACAV,IAAqB,EAAI,iBAAmB,oBAAA,EAG7C,SAAAL,CAAA,CAAA,CACH,CAAA,CAEJ,EAEJ,EACF,CAEJ"}