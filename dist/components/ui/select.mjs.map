{"version":3,"file":"select.mjs","sources":["../../../src/components/ui/select.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as SelectPrimitive from \"@radix-ui/react-select\";\nimport { Command as CommandPrimitive } from \"cmdk\";\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\";\n\nimport { cn } from \"@/lib/utils\";\nimport { UpIcon, SearchIcon, XIcon } from \"@/icons\";\nimport { Checkbox } from \"@/components/ui/checkbox\";\n\nconst selectSizeStyles = {\n  sm: \"w-[160px]\",\n  md: \"w-[260px]\",\n  lg: \"w-[360px]\",\n  full: \"w-full\",\n} as const;\n\nexport type SelectSize = keyof typeof selectSizeStyles;\n\nexport interface SelectOption {\n  label: string;\n  value: string;\n  disabled?: boolean;\n}\n\n// Base props shared by all variants\ninterface SelectBaseProps {\n  /** 라벨 텍스트 */\n  label?: string;\n  /** 플레이스홀더 */\n  placeholder?: string;\n  /** 옵션 목록 */\n  options: SelectOption[];\n  /** 너비 크기 */\n  size?: SelectSize;\n  /** 에러 상태 */\n  error?: boolean;\n  /** 에러 메시지 */\n  errorMessage?: string;\n  /** 비활성화 */\n  disabled?: boolean;\n  /** 추가 className */\n  className?: string;\n  /** 접근성 라벨 (label이 없을 때 사용) */\n  \"aria-label\"?: string;\n  /** 테이블 모드 (파란 glow 대신 border 강조) */\n  tableMode?: boolean;\n  /** 라벨이 없어도 라벨 공간 유지 */\n  reserveLabelSpace?: boolean;\n  /** 검색 기능 활성화 */\n  searchable?: boolean;\n  /** 검색 플레이스홀더 */\n  searchPlaceholder?: string;\n}\n\n// Single select props (default)\ninterface SingleSelectProps extends SelectBaseProps {\n  /** 다중 선택 모드 */\n  multiple?: false;\n  /** 선택된 값 */\n  value?: string;\n  /** 기본 선택 값 */\n  defaultValue?: string;\n  /** 값 변경 핸들러 */\n  onValueChange?: (value: string) => void;\n}\n\n// Multiple select props\ninterface MultipleSelectProps extends SelectBaseProps {\n  /** 다중 선택 모드 */\n  multiple: true;\n  /** 선택된 값 배열 */\n  value?: string[];\n  /** 기본 선택 값 배열 */\n  defaultValue?: string[];\n  /** 값 변경 핸들러 */\n  onValueChange?: (value: string[]) => void;\n}\n\nexport type SelectProps = SingleSelectProps | MultipleSelectProps;\n\n// Internal props for sub-components\ninterface InternalSelectProps {\n  id: string;\n  ariaLabel?: string;\n}\n\n// Basic Select (non-searchable, single)\nconst BasicSelect = React.forwardRef<\n  HTMLButtonElement,\n  Omit<SingleSelectProps, \"aria-label\"> & InternalSelectProps\n>(\n  (\n    {\n      id,\n      placeholder = \"선택하세요\",\n      options,\n      value,\n      defaultValue,\n      onValueChange,\n      error,\n      disabled,\n      ariaLabel,\n      tableMode,\n    },\n    ref,\n  ) => {\n    return (\n      <SelectPrimitive.Root\n        value={value}\n        defaultValue={defaultValue}\n        onValueChange={onValueChange}\n        disabled={disabled}\n      >\n        <SelectPrimitive.Trigger\n          ref={ref}\n          id={id}\n          className={cn(\n            \"group flex h-9 w-full items-center justify-between rounded-[5px] border bg-white dark:bg-slate-800\",\n            \"px-3 text-xs outline-none transition-colors cursor-pointer\",\n            \"disabled:cursor-not-allowed disabled:opacity-50\",\n            error\n              ? \"border-red-500 dark:border-red-500 data-[state=open]:border-red-500 data-[state=open]:shadow-[0px_0px_6px_0px_rgba(239,68,68,0.5)]\"\n              : tableMode\n                ? \"border-slate-300 dark:border-slate-500 data-[state=open]:border-slate-500 data-[state=open]:border-[1.5px] data-[state=open]:shadow-none dark:data-[state=open]:border-slate-300\"\n                : \"border-slate-100 dark:border-slate-600 data-[state=open]:border-blue-500 data-[state=open]:shadow-[0px_0px_6px_0px_rgba(23,118,255,0.5)]\",\n            \"data-[placeholder]:text-slate-500 dark:data-[placeholder]:text-slate-50\",\n          )}\n          aria-invalid={error}\n          aria-label={ariaLabel}\n        >\n          <SelectPrimitive.Value placeholder={placeholder} />\n          <SelectPrimitive.Icon asChild>\n            <UpIcon\n              size={24}\n              className=\"text-slate-900 transition-transform duration-200 group-data-[state=open]:rotate-180 dark:text-slate-50\"\n            />\n          </SelectPrimitive.Icon>\n        </SelectPrimitive.Trigger>\n\n        <SelectPrimitive.Portal>\n          <SelectPrimitive.Content\n            className={cn(\n              \"relative z-50 overflow-hidden rounded-[5px] border border-slate-100 dark:border-slate-600 w-[var(--radix-select-trigger-width)]\",\n              \"bg-white/50 dark:bg-slate-800/50 backdrop-blur-[12px]\",\n              \"shadow-[10px_10px_10px_0px_rgba(0,0,0,0.05)]\",\n              \"p-[5px]\",\n              \"data-[state=open]:animate-in data-[state=closed]:animate-out\",\n              \"data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n              \"data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95\",\n              \"data-[side=bottom]:slide-in-from-top-2 data-[side=top]:slide-in-from-bottom-2\",\n            )}\n            position=\"popper\"\n            sideOffset={4}\n          >\n            <SelectPrimitive.Viewport className=\"flex flex-col gap-[5px] max-h-[240px] overflow-y-auto\">\n              {options.map((option) => (\n                <SelectPrimitive.Item\n                  key={option.value}\n                  value={option.value}\n                  disabled={option.disabled}\n                  className={cn(\n                    \"relative flex h-[29px] cursor-pointer select-none items-center rounded-[2px] px-[5px] py-[5px]\",\n                    \"text-xs text-slate-500 dark:text-slate-50 outline-none\",\n                    \"hover:bg-slate-100 dark:hover:bg-slate-700\",\n                    \"focus:bg-slate-100 dark:focus:bg-slate-700\",\n                    \"data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n                    \"data-[state=checked]:bg-accent data-[state=checked]:text-accent-foreground\",\n                  )}\n                >\n                  <SelectPrimitive.ItemText>{option.label}</SelectPrimitive.ItemText>\n                </SelectPrimitive.Item>\n              ))}\n            </SelectPrimitive.Viewport>\n          </SelectPrimitive.Content>\n        </SelectPrimitive.Portal>\n      </SelectPrimitive.Root>\n    );\n  },\n);\nBasicSelect.displayName = \"BasicSelect\";\n\n// Searchable Select (single)\nconst SearchableSelect = React.forwardRef<\n  HTMLButtonElement,\n  Omit<SingleSelectProps, \"aria-label\"> & InternalSelectProps\n>(\n  (\n    {\n      id,\n      placeholder = \"선택하세요\",\n      searchPlaceholder = \"검색...\",\n      options,\n      value,\n      defaultValue,\n      onValueChange,\n      error,\n      disabled,\n      ariaLabel,\n      tableMode,\n    },\n    ref,\n  ) => {\n    const [open, setOpen] = React.useState(false);\n    const [search, setSearch] = React.useState(\"\");\n    const [internalValue, setInternalValue] = React.useState(defaultValue || \"\");\n\n    const currentValue = value !== undefined ? value : internalValue;\n    const selectedOption = options.find((opt) => opt.value === currentValue);\n\n    const filteredOptions = options.filter((option) =>\n      option.label.toLowerCase().includes(search.toLowerCase()),\n    );\n\n    const handleSelect = (optionValue: string) => {\n      if (value === undefined) {\n        setInternalValue(optionValue);\n      }\n      onValueChange?.(optionValue);\n      setOpen(false);\n      setSearch(\"\");\n    };\n\n    return (\n      <PopoverPrimitive.Root open={open} onOpenChange={setOpen}>\n        <PopoverPrimitive.Trigger\n          ref={ref}\n          id={id}\n          disabled={disabled}\n          className={cn(\n            \"group flex h-9 w-full items-center justify-between rounded-[5px] border bg-white dark:bg-slate-800\",\n            \"px-3 text-xs outline-none transition-colors cursor-pointer\",\n            \"disabled:cursor-not-allowed disabled:opacity-50\",\n            error\n              ? \"border-red-500 dark:border-red-500 data-[state=open]:border-red-500 data-[state=open]:shadow-[0px_0px_6px_0px_rgba(239,68,68,0.5)]\"\n              : tableMode\n                ? \"border-slate-300 dark:border-slate-500 data-[state=open]:border-slate-500 data-[state=open]:border-[1.5px] data-[state=open]:shadow-none dark:data-[state=open]:border-slate-300\"\n                : \"border-slate-100 dark:border-slate-600 data-[state=open]:border-blue-500 data-[state=open]:shadow-[0px_0px_6px_0px_rgba(23,118,255,0.5)]\",\n          )}\n          aria-invalid={error}\n          aria-label={ariaLabel}\n        >\n          <span\n            className={cn(\n              \"truncate\",\n              !selectedOption && \"text-slate-500 dark:text-slate-50\",\n            )}\n          >\n            {selectedOption?.label || placeholder}\n          </span>\n          <UpIcon\n            size={24}\n            className={cn(\n              \"text-slate-900 transition-transform duration-200 dark:text-slate-50\",\n              open && \"rotate-180\",\n            )}\n          />\n        </PopoverPrimitive.Trigger>\n\n        <PopoverPrimitive.Portal>\n          <PopoverPrimitive.Content\n            className={cn(\n              \"z-50 rounded-[5px] border border-slate-100 dark:border-slate-600 w-[var(--radix-popover-trigger-width)]\",\n              \"bg-white/50 dark:bg-slate-800/50 backdrop-blur-[12px]\",\n              \"shadow-[10px_10px_10px_0px_rgba(0,0,0,0.05)]\",\n              \"p-[5px]\",\n              \"animate-in fade-in-0 zoom-in-95\",\n            )}\n            sideOffset={4}\n            align=\"start\"\n          >\n            <CommandPrimitive className=\"flex flex-col\">\n              <div className=\"flex items-center gap-2 px-2 pb-2 border-b border-slate-100 dark:border-slate-600\">\n                <SearchIcon size={20} className=\"text-slate-400\" />\n                <CommandPrimitive.Input\n                  value={search}\n                  onValueChange={setSearch}\n                  placeholder={searchPlaceholder}\n                  className=\"flex-1 bg-transparent text-xs outline-none placeholder:text-slate-400\"\n                />\n              </div>\n              <CommandPrimitive.List className=\"flex flex-col gap-[5px] max-h-[240px] overflow-y-auto pt-2\">\n                <CommandPrimitive.Empty className=\"py-2 text-center text-xs text-slate-500\">\n                  검색 결과가 없습니다.\n                </CommandPrimitive.Empty>\n                {filteredOptions.map((option) => (\n                  <CommandPrimitive.Item\n                    key={option.value}\n                    value={option.label}\n                    disabled={option.disabled}\n                    onSelect={() => handleSelect(option.value)}\n                    className={cn(\n                      \"relative flex h-[29px] cursor-pointer select-none items-center rounded-[2px] px-[5px] py-[5px]\",\n                      \"text-xs text-slate-500 dark:text-slate-50 outline-none\",\n                      \"hover:bg-slate-100 dark:hover:bg-slate-700\",\n                      \"data-[selected=true]:bg-slate-100 dark:data-[selected=true]:bg-slate-700\",\n                      \"data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50\",\n                      currentValue === option.value &&\n                        \"bg-accent text-accent-foreground\",\n                    )}\n                  >\n                    {option.label}\n                  </CommandPrimitive.Item>\n                ))}\n              </CommandPrimitive.List>\n            </CommandPrimitive>\n          </PopoverPrimitive.Content>\n        </PopoverPrimitive.Portal>\n      </PopoverPrimitive.Root>\n    );\n  },\n);\nSearchableSelect.displayName = \"SearchableSelect\";\n\n// Multi Select (searchable, multiple)\nconst MultiSelect = React.forwardRef<\n  HTMLButtonElement,\n  Omit<MultipleSelectProps, \"aria-label\"> & InternalSelectProps\n>(\n  (\n    {\n      id,\n      placeholder = \"선택하세요\",\n      searchPlaceholder = \"검색...\",\n      options,\n      value,\n      defaultValue,\n      onValueChange,\n      error,\n      disabled,\n      ariaLabel,\n      tableMode,\n    },\n    ref,\n  ) => {\n    const [open, setOpen] = React.useState(false);\n    const [search, setSearch] = React.useState(\"\");\n    const [internalValue, setInternalValue] = React.useState<string[]>(\n      defaultValue || [],\n    );\n\n    const currentValue = value !== undefined ? value : internalValue;\n    const selectedOptions = options.filter((opt) =>\n      currentValue.includes(opt.value),\n    );\n\n    const filteredOptions = options.filter((option) =>\n      option.label.toLowerCase().includes(search.toLowerCase()),\n    );\n\n    const handleToggle = (optionValue: string) => {\n      const newValue = currentValue.includes(optionValue)\n        ? currentValue.filter((v) => v !== optionValue)\n        : [...currentValue, optionValue];\n\n      if (value === undefined) {\n        setInternalValue(newValue);\n      }\n      onValueChange?.(newValue);\n    };\n\n    const handleRemove = (optionValue: string, e: React.MouseEvent) => {\n      e.stopPropagation();\n      const newValue = currentValue.filter((v) => v !== optionValue);\n      if (value === undefined) {\n        setInternalValue(newValue);\n      }\n      onValueChange?.(newValue);\n    };\n\n    return (\n      <PopoverPrimitive.Root open={open} onOpenChange={setOpen}>\n        <PopoverPrimitive.Trigger\n          ref={ref}\n          id={id}\n          disabled={disabled}\n          className={cn(\n            \"group flex min-h-9 w-full items-center justify-between rounded-[5px] border bg-white dark:bg-slate-800\",\n            \"px-3 py-1.5 text-xs outline-none transition-colors cursor-pointer\",\n            \"disabled:cursor-not-allowed disabled:opacity-50\",\n            error\n              ? \"border-red-500 dark:border-red-500 data-[state=open]:border-red-500 data-[state=open]:shadow-[0px_0px_6px_0px_rgba(239,68,68,0.5)]\"\n              : tableMode\n                ? \"border-slate-300 dark:border-slate-500 data-[state=open]:border-slate-500 data-[state=open]:border-[1.5px] data-[state=open]:shadow-none dark:data-[state=open]:border-slate-300\"\n                : \"border-slate-100 dark:border-slate-600 data-[state=open]:border-blue-500 data-[state=open]:shadow-[0px_0px_6px_0px_rgba(23,118,255,0.5)]\",\n          )}\n          aria-invalid={error}\n          aria-label={ariaLabel}\n        >\n          <div className=\"flex flex-1 flex-wrap gap-1\">\n            {selectedOptions.length === 0 ? (\n              <span className=\"text-slate-500 dark:text-slate-50\">\n                {placeholder}\n              </span>\n            ) : (\n              selectedOptions.map((option) => (\n                <span\n                  key={option.value}\n                  className=\"inline-flex items-center gap-1 rounded bg-slate-100 dark:bg-slate-700 px-1.5 py-0.5 text-xs\"\n                >\n                  {option.label}\n                  <span\n                    role=\"img\"\n                    aria-label={`${option.label} 삭제`}\n                    onClick={(e) => handleRemove(option.value, e)}\n                    className=\"cursor-pointer\"\n                  >\n                    <XIcon size={18} />\n                  </span>\n                </span>\n              ))\n            )}\n          </div>\n          <UpIcon\n            size={24}\n            className={cn(\n              \"text-slate-900 transition-transform duration-200 dark:text-slate-50 flex-shrink-0\",\n              open && \"rotate-180\",\n            )}\n          />\n        </PopoverPrimitive.Trigger>\n\n        <PopoverPrimitive.Portal>\n          <PopoverPrimitive.Content\n            className={cn(\n              \"z-50 rounded-[5px] border border-slate-100 dark:border-slate-600 w-[var(--radix-popover-trigger-width)]\",\n              \"bg-white/50 dark:bg-slate-800/50 backdrop-blur-[12px]\",\n              \"shadow-[10px_10px_10px_0px_rgba(0,0,0,0.05)]\",\n              \"p-[5px]\",\n              \"animate-in fade-in-0 zoom-in-95\",\n            )}\n            sideOffset={4}\n            align=\"start\"\n          >\n            <CommandPrimitive className=\"flex flex-col\">\n              <div className=\"flex items-center gap-2 px-2 pb-2 border-b border-slate-100 dark:border-slate-600\">\n                <SearchIcon size={20} className=\"text-slate-400\" />\n                <CommandPrimitive.Input\n                  value={search}\n                  onValueChange={setSearch}\n                  placeholder={searchPlaceholder}\n                  className=\"flex-1 bg-transparent text-xs outline-none placeholder:text-slate-400\"\n                />\n              </div>\n              <CommandPrimitive.List className=\"flex flex-col gap-[5px] max-h-[240px] overflow-y-auto pt-2\">\n                <CommandPrimitive.Empty className=\"py-2 text-center text-xs text-slate-500\">\n                  검색 결과가 없습니다.\n                </CommandPrimitive.Empty>\n                {filteredOptions.map((option) => {\n                  const isSelected = currentValue.includes(option.value);\n                  return (\n                    <CommandPrimitive.Item\n                      key={option.value}\n                      value={option.label}\n                      disabled={option.disabled}\n                      onSelect={() => handleToggle(option.value)}\n                      className={cn(\n                        \"relative flex h-[29px] cursor-pointer select-none items-center gap-2 rounded-[2px] px-[5px] py-[5px]\",\n                        \"text-xs text-slate-500 dark:text-slate-50 outline-none\",\n                        \"hover:bg-slate-100 dark:hover:bg-slate-700\",\n                        \"data-[selected=true]:bg-slate-100 dark:data-[selected=true]:bg-slate-700\",\n                        \"data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50\",\n                      )}\n                    >\n                      <Checkbox\n                        checked={isSelected}\n                        className=\"pointer-events-none h-4 w-4\"\n                      />\n                      {option.label}\n                    </CommandPrimitive.Item>\n                  );\n                })}\n              </CommandPrimitive.List>\n            </CommandPrimitive>\n          </PopoverPrimitive.Content>\n        </PopoverPrimitive.Portal>\n      </PopoverPrimitive.Root>\n    );\n  },\n);\nMultiSelect.displayName = \"MultiSelect\";\n\n// Main Select component\nconst Select = React.forwardRef<HTMLButtonElement, SelectProps>(\n  (props, ref) => {\n    const {\n      label,\n      size = \"full\",\n      error,\n      errorMessage,\n      className,\n      \"aria-label\": ariaLabel,\n      reserveLabelSpace,\n      searchable = false,\n      multiple = false,\n    } = props;\n\n    const id = React.useId();\n\n    // Render appropriate select variant\n    const renderSelect = () => {\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      const { \"aria-label\": _, ...restProps } = props;\n\n      if (multiple) {\n        return (\n          <MultiSelect\n            ref={ref}\n            id={id}\n            ariaLabel={ariaLabel}\n            {...(restProps as Omit<MultipleSelectProps, \"aria-label\">)}\n          />\n        );\n      }\n\n      if (searchable) {\n        return (\n          <SearchableSelect\n            ref={ref}\n            id={id}\n            ariaLabel={ariaLabel}\n            {...(restProps as Omit<SingleSelectProps, \"aria-label\">)}\n          />\n        );\n      }\n\n      return (\n        <BasicSelect\n          ref={ref}\n          id={id}\n          ariaLabel={ariaLabel}\n          {...(restProps as Omit<SingleSelectProps, \"aria-label\">)}\n        />\n      );\n    };\n\n    return (\n      <div\n        className={cn(\n          \"flex flex-col gap-1\",\n          selectSizeStyles[size],\n          className,\n        )}\n      >\n        {(label || reserveLabelSpace) && (\n          <label\n            htmlFor={id}\n            className={cn(\n              \"text-xs text-slate-600 dark:text-slate-50\",\n              !label && \"invisible\",\n            )}\n          >\n            {label || \"\\u00A0\"}\n          </label>\n        )}\n        {renderSelect()}\n        {error && errorMessage && (\n          <span className=\"text-xs text-destructive dark:text-red-400\">\n            {errorMessage}\n          </span>\n        )}\n      </div>\n    );\n  },\n);\nSelect.displayName = \"Select\";\n\nexport { Select, selectSizeStyles };\n"],"names":["selectSizeStyles","BasicSelect","React","id","placeholder","options","value","defaultValue","onValueChange","error","disabled","ariaLabel","tableMode","ref","jsxs","SelectPrimitive","cn","jsx","UpIcon","option","SearchableSelect","searchPlaceholder","open","setOpen","search","setSearch","internalValue","setInternalValue","currentValue","selectedOption","opt","filteredOptions","handleSelect","optionValue","PopoverPrimitive","CommandPrimitive","SearchIcon","MultiSelect","selectedOptions","handleToggle","newValue","v","handleRemove","e","XIcon","isSelected","Checkbox","Select","props","label","size","errorMessage","className","reserveLabelSpace","searchable","multiple","renderSelect","_","restProps"],"mappings":"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"}