"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const s=require("react/jsx-runtime"),B=require("react"),A=require("@radix-ui/react-tabs"),F=require("react-dom"),m=require("@dnd-kit/core"),j=require("@dnd-kit/sortable"),Y=require("@dnd-kit/utilities"),h=require("../../lib/utils.cjs"),_=require("../../icons/XIcon.cjs");function L(n){const a=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(n){for(const e in n)if(e!=="default"){const r=Object.getOwnPropertyDescriptor(n,e);Object.defineProperty(a,e,r.get?r:{enumerable:!0,get:()=>n[e]})}}return a.default=n,Object.freeze(a)}const t=L(B),b=L(A),G=b.Root,E=t.forwardRef(({className:n,align:a="start",...e},r)=>s.jsx(b.List,{ref:r,className:h.cn("flex h-9 items-end border-b border-border",a==="end"?"justify-end":"justify-start",n),...e}));E.displayName=b.List.displayName;const P=t.forwardRef(({className:n,align:a="start",items:e,onReorder:r,children:d,...f},g)=>{const u=m.useSensors(m.useSensor(m.PointerSensor,{activationConstraint:{distance:8}}),m.useSensor(m.KeyboardSensor)),l=c=>{const{active:p,over:x}=c;if(x&&p.id!==x.id){const v=e.indexOf(p.id),T=e.indexOf(x.id);r(j.arrayMove(e,v,T))}};return s.jsx(m.DndContext,{sensors:u,collisionDetection:m.closestCenter,onDragEnd:l,children:s.jsx(j.SortableContext,{items:e,strategy:j.horizontalListSortingStrategy,children:s.jsx(b.List,{ref:g,className:h.cn("flex h-9 items-end border-b border-border",a==="end"?"justify-end":"justify-start",n),...f,children:d})})})});P.displayName="SortableTabsList";const z=({children:n,targetRef:a,show:e})=>{const[r,d]=t.useState({top:0,left:0}),[f,g]=t.useState(!1);return t.useEffect(()=>{g(!0)},[]),t.useEffect(()=>{if(e&&a.current){const u=a.current.getBoundingClientRect();d({top:u.bottom+window.scrollY+8,left:u.left+u.width/2+window.scrollX})}},[e,a]),!f||!e?null:F.createPortal(s.jsx("div",{style:{position:"absolute",top:r.top,left:r.left,transform:"translateX(-50%)",zIndex:50},className:h.cn("rounded-md border bg-popover px-4 py-2.5 text-sm text-popover-foreground","shadow-[10px_10px_10px_0px_#0000001A]","animate-in fade-in-0 zoom-in-95","relative","before:absolute before:bottom-full before:left-1/2 before:-ml-[11px] before:border-[11px] before:border-transparent before:border-b-border before:content-['']","after:absolute after:bottom-full after:left-1/2 after:-ml-[10px] after:border-[10px] after:border-transparent after:border-b-white dark:after:border-b-[var(--color-slate-900)] after:content-['']"),children:n}),document.body)},I=t.forwardRef(({className:n,closable:a,onClose:e,children:r,onKeyDown:d,maxWidth:f=120,minWidth:g=60,...u},l)=>{const c=t.useRef(null),p=t.useRef(null),[x,v]=t.useState(!1),[T,S]=t.useState(!1),y=t.useCallback(i=>{p.current=i,typeof l=="function"?l(i):l&&typeof l=="object"&&(l.current=i)},[l]);t.useEffect(()=>{const i=()=>{c.current&&v(c.current.scrollWidth>c.current.clientWidth)};return i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[r]);const k=i=>{a&&(i.key==="Delete"||i.key==="Backspace")&&(i.preventDefault(),e==null||e()),d==null||d(i)};return s.jsxs(s.Fragment,{children:[s.jsxs(b.Trigger,{ref:y,style:{maxWidth:`${f}px`,minWidth:`${g}px`},className:h.cn("inline-flex h-9 items-center justify-center gap-0.5 px-3 py-2 text-xs font-bold cursor-pointer","flex-shrink flex-grow-0","rounded-t bg-transparent","text-text-secondary","mb-[-1px]","transition-colors","data-[state=active]:border data-[state=active]:border-b-0 data-[state=active]:border-border","data-[state=active]:text-slate-900 dark:data-[state=active]:text-slate-50","data-[state=active]:bg-[linear-gradient(180deg,white_0%,#f4f6f8_30%)]","dark:data-[state=active]:bg-[linear-gradient(180deg,#444b57_0%,#1b2026_30%)]","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:pointer-events-none disabled:opacity-50",n),onKeyDown:k,onMouseEnter:()=>S(!0),onMouseLeave:()=>S(!1),...u,children:[s.jsx("span",{ref:c,className:"truncate min-w-0",children:r}),a&&s.jsx("span",{onClick:i=>{i.stopPropagation(),e==null||e()},className:"ml-0.5 flex-shrink-0 text-text-secondary hover:text-text-primary transition-colors cursor-pointer","aria-hidden":"true",children:s.jsx(_.XIcon,{size:20})})]}),s.jsx(z,{targetRef:p,show:x&&T,children:r})]})});I.displayName=b.Trigger.displayName;const M=t.forwardRef(({id:n,className:a,closable:e,onClose:r,children:d,onKeyDown:f,maxWidth:g=120,minWidth:u=60,...l},c)=>{const{attributes:p,listeners:x,setNodeRef:v,transform:T,transition:S,isDragging:y}=j.useSortable({id:n}),{role:k,...i}=p,w=t.useRef(null),R=t.useRef(null),[O,D]=t.useState(!1),[W,N]=t.useState(!1),X=t.useCallback(o=>{R.current=o,v(o),typeof c=="function"?c(o):c&&typeof c=="object"&&(c.current=o)},[c,v]);t.useEffect(()=>{const o=()=>{w.current&&D(w.current.scrollWidth>w.current.clientWidth)};return o(),window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[d]);const H=o=>{e&&(o.key==="Delete"||o.key==="Backspace")&&(o.preventDefault(),r==null||r()),f==null||f(o)},$={transform:Y.CSS.Transform.toString(T),transition:S,opacity:y?.5:1,zIndex:y?10:void 0,maxWidth:`${g}px`,minWidth:`${u}px`};return s.jsxs(s.Fragment,{children:[s.jsxs(b.Trigger,{ref:X,style:$,className:h.cn("inline-flex h-9 items-center justify-center gap-0.5 px-3 py-2 text-xs font-bold cursor-grab","flex-shrink flex-grow-0","rounded-t bg-transparent","text-text-secondary","mb-[-1px]","transition-colors","data-[state=active]:border data-[state=active]:border-b-0 data-[state=active]:border-border","data-[state=active]:text-slate-900 dark:data-[state=active]:text-slate-50","data-[state=active]:bg-[linear-gradient(180deg,white_0%,#f4f6f8_30%)]","dark:data-[state=active]:bg-[linear-gradient(180deg,#444b57_0%,#1b2026_30%)]","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:pointer-events-none disabled:opacity-50",y&&"cursor-grabbing",a),onKeyDown:H,onMouseEnter:()=>N(!0),onMouseLeave:()=>N(!1),...i,...x,...l,children:[s.jsx("span",{ref:w,className:"truncate min-w-0",children:d}),e&&s.jsx("span",{onClick:o=>{o.stopPropagation(),r==null||r()},className:"ml-0.5 flex-shrink-0 text-text-secondary hover:text-text-primary transition-colors cursor-pointer","aria-hidden":"true",children:s.jsx(_.XIcon,{size:20})})]}),s.jsx(z,{targetRef:R,show:O&&W&&!y,children:d})]})});M.displayName="SortableTabsTrigger";const q=t.forwardRef(({className:n,...a},e)=>s.jsx(b.Content,{ref:e,className:h.cn("mt-4 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n),...a}));q.displayName=b.Content.displayName;Object.defineProperty(exports,"arrayMove",{enumerable:!0,get:()=>j.arrayMove});exports.SortableTabsList=P;exports.SortableTabsTrigger=M;exports.Tabs=G;exports.TabsContent=q;exports.TabsList=E;exports.TabsTrigger=I;
//# sourceMappingURL=tabs.cjs.map
