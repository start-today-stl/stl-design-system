"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const a=require("react/jsx-runtime"),A=require("react"),F=require("@radix-ui/react-tabs"),$=require("react-dom"),p=require("@dnd-kit/core"),j=require("@dnd-kit/sortable"),Y=require("@dnd-kit/utilities"),h=require("../../lib/utils.cjs"),_=require("../../icons/XIcon.cjs");function L(n){const s=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(n){for(const e in n)if(e!=="default"){const r=Object.getOwnPropertyDescriptor(n,e);Object.defineProperty(s,e,r.get?r:{enumerable:!0,get:()=>n[e]})}}return s.default=n,Object.freeze(s)}const t=L(A),u=L(F),G=u.Root,E=t.forwardRef(({className:n,align:s="start",...e},r)=>a.jsx(u.List,{ref:r,className:h.cn("flex h-9 items-end border-b border-border",s==="end"?"justify-end":"justify-start",n),...e}));E.displayName=u.List.displayName;const P=t.forwardRef(({className:n,align:s="start",items:e,onReorder:r,children:d,...b},v)=>{const f=p.useSensors(p.useSensor(p.PointerSensor,{activationConstraint:{distance:8}}),p.useSensor(p.KeyboardSensor)),l=c=>{const{active:g,over:x}=c;if(x&&g.id!==x.id){const m=e.indexOf(g.id),T=e.indexOf(x.id);r(j.arrayMove(e,m,T))}};return a.jsx(p.DndContext,{sensors:f,collisionDetection:p.closestCenter,onDragEnd:l,children:a.jsx(j.SortableContext,{items:e,strategy:j.horizontalListSortingStrategy,children:a.jsx(u.List,{ref:v,className:h.cn("flex h-9 items-end border-b border-border",s==="end"?"justify-end":"justify-start",n),...b,children:d})})})});P.displayName="SortableTabsList";const z=({children:n,targetRef:s,show:e})=>{const[r,d]=t.useState({top:0,left:0}),[b,v]=t.useState(!1);return t.useEffect(()=>{v(!0)},[]),t.useEffect(()=>{if(e&&s.current){const f=s.current.getBoundingClientRect();d({top:f.bottom+window.scrollY+8,left:f.left+f.width/2+window.scrollX})}},[e,s]),!b||!e?null:$.createPortal(a.jsx("div",{style:{position:"absolute",top:r.top,left:r.left,transform:"translateX(-50%)",zIndex:50,pointerEvents:"none"},className:h.cn("rounded-md border bg-popover px-4 py-2.5 text-sm text-popover-foreground","shadow-[10px_10px_10px_0px_#0000001A]","animate-in fade-in-0 zoom-in-95","relative","before:absolute before:bottom-full before:left-1/2 before:-ml-[11px] before:border-[11px] before:border-transparent before:border-b-border before:content-['']","after:absolute after:bottom-full after:left-1/2 after:-ml-[10px] after:border-[10px] after:border-transparent after:border-b-white dark:after:border-b-[var(--color-slate-900)] after:content-['']"),children:n}),document.body)},I=t.forwardRef(({className:n,closable:s,onClose:e,children:r,onKeyDown:d,maxWidth:b=120,minWidth:v=60,...f},l)=>{const c=t.useRef(null),g=t.useRef(null),[x,m]=t.useState(!1),[T,w]=t.useState(!1),y=t.useCallback(i=>{g.current=i,typeof l=="function"?l(i):l&&typeof l=="object"&&(l.current=i)},[l]);t.useEffect(()=>{const i=()=>{c.current&&m(c.current.scrollWidth>c.current.clientWidth)};return i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[r]);const k=i=>{s&&(i.key==="Delete"||i.key==="Backspace")&&(i.preventDefault(),e==null||e()),d==null||d(i)};return a.jsxs(a.Fragment,{children:[a.jsxs(u.Trigger,{ref:y,style:{minWidth:`${v}px`},className:h.cn("inline-flex h-9 items-center justify-center gap-0.5 px-3 py-2 text-xs font-bold cursor-pointer","flex-grow-0","rounded-t bg-transparent","text-text-secondary","mb-[-1px]","transition-all duration-200","data-[state=inactive]:flex-shrink data-[state=inactive]:max-w-[120px]","data-[state=active]:flex-shrink-0 data-[state=active]:max-w-none","data-[state=active]:border data-[state=active]:border-b-0 data-[state=active]:border-border","data-[state=active]:text-slate-900 dark:data-[state=active]:text-slate-50","data-[state=active]:bg-[linear-gradient(180deg,white_0%,#f4f6f8_30%)]","dark:data-[state=active]:bg-[linear-gradient(180deg,#444b57_0%,#1b2026_30%)]","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:pointer-events-none disabled:opacity-50",n),onKeyDown:k,onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1),...f,children:[a.jsx("span",{ref:c,className:"truncate min-w-0",children:r}),s&&a.jsx("span",{onClick:i=>{i.stopPropagation(),e==null||e()},className:"ml-0.5 flex-shrink-0 text-text-secondary hover:text-text-primary transition-colors cursor-pointer","aria-hidden":"true",children:a.jsx(_.XIcon,{size:20})})]}),a.jsx(z,{targetRef:g,show:x&&T,children:r})]})});I.displayName=u.Trigger.displayName;const M=t.forwardRef(({id:n,className:s,closable:e,onClose:r,children:d,onKeyDown:b,maxWidth:v=120,minWidth:f=60,...l},c)=>{const{attributes:g,listeners:x,setNodeRef:m,transform:T,transition:w,isDragging:y}=j.useSortable({id:n}),{role:k,...i}=g,S=t.useRef(null),R=t.useRef(null),[O,D]=t.useState(!1),[W,N]=t.useState(!1),X=t.useCallback(o=>{R.current=o,m(o),typeof c=="function"?c(o):c&&typeof c=="object"&&(c.current=o)},[c,m]);t.useEffect(()=>{const o=()=>{S.current&&D(S.current.scrollWidth>S.current.clientWidth)};return o(),window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[d]);const H=o=>{e&&(o.key==="Delete"||o.key==="Backspace")&&(o.preventDefault(),r==null||r()),b==null||b(o)},B={transform:Y.CSS.Transform.toString(T),transition:w,opacity:y?.5:1,zIndex:y?10:void 0,minWidth:`${f}px`};return a.jsxs(a.Fragment,{children:[a.jsxs(u.Trigger,{ref:X,style:B,className:h.cn("inline-flex h-9 items-center justify-center gap-0.5 px-3 py-2 text-xs font-bold cursor-grab","flex-grow-0","rounded-t bg-transparent","text-text-secondary","mb-[-1px]","transition-all duration-200","data-[state=inactive]:flex-shrink data-[state=inactive]:max-w-[120px]","data-[state=active]:flex-shrink-0 data-[state=active]:max-w-none","data-[state=active]:border data-[state=active]:border-b-0 data-[state=active]:border-border","data-[state=active]:text-slate-900 dark:data-[state=active]:text-slate-50","data-[state=active]:bg-[linear-gradient(180deg,white_0%,#f4f6f8_30%)]","dark:data-[state=active]:bg-[linear-gradient(180deg,#444b57_0%,#1b2026_30%)]","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:pointer-events-none disabled:opacity-50",y&&"cursor-grabbing",s),onKeyDown:H,onMouseEnter:()=>N(!0),onMouseLeave:()=>N(!1),...i,...x,...l,children:[a.jsx("span",{ref:S,className:"truncate min-w-0",children:d}),e&&a.jsx("span",{onClick:o=>{o.stopPropagation(),r==null||r()},className:"ml-0.5 flex-shrink-0 text-text-secondary hover:text-text-primary transition-colors cursor-pointer","aria-hidden":"true",children:a.jsx(_.XIcon,{size:20})})]}),a.jsx(z,{targetRef:R,show:O&&W&&!y,children:d})]})});M.displayName="SortableTabsTrigger";const q=t.forwardRef(({className:n,...s},e)=>a.jsx(u.Content,{ref:e,className:h.cn("mt-4 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n),...s}));q.displayName=u.Content.displayName;Object.defineProperty(exports,"arrayMove",{enumerable:!0,get:()=>j.arrayMove});exports.SortableTabsList=P;exports.SortableTabsTrigger=M;exports.Tabs=G;exports.TabsContent=q;exports.TabsList=E;exports.TabsTrigger=I;
//# sourceMappingURL=tabs.cjs.map
