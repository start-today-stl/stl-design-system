{"version":3,"file":"tabs.mjs","sources":["../../../src/components/ui/tabs.tsx"],"sourcesContent":["import * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\nimport { createPortal } from \"react-dom\"\nimport {\n  DndContext,\n  closestCenter,\n  KeyboardSensor,\n  PointerSensor,\n  useSensor,\n  useSensors,\n  type DragEndEvent,\n} from \"@dnd-kit/core\"\nimport {\n  SortableContext,\n  horizontalListSortingStrategy,\n  useSortable,\n  arrayMove,\n} from \"@dnd-kit/sortable\"\nimport { CSS } from \"@dnd-kit/utilities\"\n\nimport { cn } from \"@/lib/utils\"\nimport { XIcon } from \"@/icons\"\n\nconst Tabs = TabsPrimitive.Root\n\nexport interface TabsListProps\n  extends React.ComponentPropsWithoutRef<typeof TabsPrimitive.List> {\n  /** 탭 정렬 위치 */\n  align?: \"start\" | \"end\"\n}\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  TabsListProps\n>(({ className, align = \"start\", ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"flex h-9 items-end border-b border-border\",\n      align === \"end\" ? \"justify-end\" : \"justify-start\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\n/** 드래그 가능한 탭 리스트 Props */\nexport interface SortableTabsListProps\n  extends React.ComponentPropsWithoutRef<typeof TabsPrimitive.List> {\n  /** 탭 정렬 위치 */\n  align?: \"start\" | \"end\"\n  /** 탭 ID 배열 (순서대로) */\n  items: string[]\n  /** 순서 변경 핸들러 */\n  onReorder: (items: string[]) => void\n}\n\n/** 드래그 앤 드롭으로 순서 변경 가능한 탭 리스트 */\nconst SortableTabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  SortableTabsListProps\n>(({ className, align = \"start\", items, onReorder, children, ...props }, ref) => {\n  const sensors = useSensors(\n    useSensor(PointerSensor, {\n      activationConstraint: {\n        distance: 8, // 8px 이상 이동해야 드래그 시작\n      },\n    }),\n    useSensor(KeyboardSensor)\n  )\n\n  const handleDragEnd = (event: DragEndEvent) => {\n    const { active, over } = event\n    if (over && active.id !== over.id) {\n      const oldIndex = items.indexOf(active.id as string)\n      const newIndex = items.indexOf(over.id as string)\n      onReorder(arrayMove(items, oldIndex, newIndex))\n    }\n  }\n\n  return (\n    <DndContext\n      sensors={sensors}\n      collisionDetection={closestCenter}\n      onDragEnd={handleDragEnd}\n    >\n      <SortableContext items={items} strategy={horizontalListSortingStrategy}>\n        <TabsPrimitive.List\n          ref={ref}\n          className={cn(\n            \"flex h-9 items-end border-b border-border\",\n            align === \"end\" ? \"justify-end\" : \"justify-start\",\n            className\n          )}\n          {...props}\n        >\n          {children}\n        </TabsPrimitive.List>\n      </SortableContext>\n    </DndContext>\n  )\n})\nSortableTabsList.displayName = \"SortableTabsList\"\n\nexport interface TabsTriggerProps\n  extends React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger> {\n  /** 닫기 버튼 표시 여부 */\n  closable?: boolean\n  /** 닫기 버튼 클릭 핸들러 */\n  onClose?: () => void\n  /** 탭 최대 너비 (기본값: 120px) */\n  maxWidth?: number\n  /** 탭 최소 너비 (기본값: 60px) */\n  minWidth?: number\n}\n\n/** 커스텀 포털 툴팁 (Radix Tabs와 충돌 방지) */\nconst PortalTooltip = ({\n  children,\n  targetRef,\n  show,\n}: {\n  children: React.ReactNode\n  targetRef: React.RefObject<HTMLButtonElement | null>\n  show: boolean\n}) => {\n  const [position, setPosition] = React.useState({ top: 0, left: 0 })\n  const [mounted, setMounted] = React.useState(false)\n\n  React.useEffect(() => {\n    setMounted(true)\n  }, [])\n\n  React.useEffect(() => {\n    if (show && targetRef.current) {\n      const rect = targetRef.current.getBoundingClientRect()\n      setPosition({\n        top: rect.bottom + window.scrollY + 8,\n        left: rect.left + rect.width / 2 + window.scrollX,\n      })\n    }\n  }, [show, targetRef])\n\n  if (!mounted || !show) return null\n\n  return createPortal(\n    <div\n      style={{\n        position: \"absolute\",\n        top: position.top,\n        left: position.left,\n        transform: \"translateX(-50%)\",\n        zIndex: 50,\n        pointerEvents: \"none\",\n      }}\n      className={cn(\n        \"rounded-md border bg-popover px-4 py-2.5 text-sm text-popover-foreground\",\n        \"shadow-[10px_10px_10px_0px_#0000001A]\",\n        \"animate-in fade-in-0 zoom-in-95\",\n        // 화살표\n        \"relative\",\n        \"before:absolute before:bottom-full before:left-1/2 before:-ml-[11px] before:border-[11px] before:border-transparent before:border-b-border before:content-['']\",\n        \"after:absolute after:bottom-full after:left-1/2 after:-ml-[10px] after:border-[10px] after:border-transparent after:border-b-white dark:after:border-b-[var(--color-slate-900)] after:content-['']\"\n      )}\n    >\n      {children}\n    </div>,\n    document.body\n  )\n}\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  TabsTriggerProps\n>(({ className, closable, onClose, children, onKeyDown, maxWidth = 120, minWidth = 60, ...props }, ref) => {\n  const textRef = React.useRef<HTMLSpanElement>(null)\n  const triggerRef = React.useRef<HTMLButtonElement | null>(null)\n  const [isTruncated, setIsTruncated] = React.useState(false)\n  const [isHovering, setIsHovering] = React.useState(false)\n\n  // ref 병합\n  const mergedRef = React.useCallback(\n    (node: HTMLButtonElement | null) => {\n      triggerRef.current = node\n      if (typeof ref === \"function\") {\n        ref(node)\n      } else if (ref && typeof ref === \"object\") {\n        ;(ref as { current: HTMLButtonElement | null }).current = node\n      }\n    },\n    [ref]\n  )\n\n  React.useEffect(() => {\n    const checkTruncation = () => {\n      if (textRef.current) {\n        setIsTruncated(textRef.current.scrollWidth > textRef.current.clientWidth)\n      }\n    }\n    checkTruncation()\n    window.addEventListener(\"resize\", checkTruncation)\n    return () => window.removeEventListener(\"resize\", checkTruncation)\n  }, [children])\n\n  const handleKeyDown = (e: React.KeyboardEvent<HTMLButtonElement>) => {\n    if (closable && (e.key === \"Delete\" || e.key === \"Backspace\")) {\n      e.preventDefault()\n      onClose?.()\n    }\n    onKeyDown?.(e)\n  }\n\n  return (\n    <>\n      <TabsPrimitive.Trigger\n        ref={mergedRef}\n        style={{ minWidth: `${minWidth}px` }}\n        className={cn(\n          \"inline-flex h-9 items-center justify-center gap-0.5 px-3 py-2 text-xs font-bold cursor-pointer\",\n          \"flex-grow-0\", // 늘어나지 않음\n          \"rounded-t bg-transparent\",\n          \"text-text-secondary\",\n          \"mb-[-1px]\", // 하단 border와 연결\n          \"transition-all duration-200\",\n          // 비활성 탭: 축소 가능, maxWidth 제한\n          \"data-[state=inactive]:flex-shrink data-[state=inactive]:max-w-[120px]\",\n          // 활성 탭: 축소 안 함, 전체 텍스트 표시\n          \"data-[state=active]:flex-shrink-0 data-[state=active]:max-w-none\",\n          \"data-[state=active]:border data-[state=active]:border-b-0 data-[state=active]:border-border\",\n          \"data-[state=active]:text-slate-900 dark:data-[state=active]:text-slate-50\",\n          \"data-[state=active]:bg-[linear-gradient(180deg,white_0%,#f4f6f8_30%)]\",\n          \"dark:data-[state=active]:bg-[linear-gradient(180deg,#444b57_0%,#1b2026_30%)]\",\n          \"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n          \"disabled:pointer-events-none disabled:opacity-50\",\n          className\n        )}\n        onKeyDown={handleKeyDown}\n        onMouseEnter={() => setIsHovering(true)}\n        onMouseLeave={() => setIsHovering(false)}\n        {...props}\n      >\n        <span\n          ref={textRef}\n          className=\"truncate min-w-0\"\n        >\n          {children}\n        </span>\n        {closable && (\n          <span\n            onClick={(e) => {\n              e.stopPropagation()\n              onClose?.()\n            }}\n            className=\"ml-0.5 flex-shrink-0 text-text-secondary hover:text-text-primary transition-colors cursor-pointer\"\n            aria-hidden=\"true\"\n          >\n            <XIcon size={20} />\n          </span>\n        )}\n      </TabsPrimitive.Trigger>\n      <PortalTooltip targetRef={triggerRef} show={isTruncated && isHovering}>\n        {children}\n      </PortalTooltip>\n    </>\n  )\n})\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\n/** 드래그 가능한 탭 트리거 Props */\nexport interface SortableTabsTriggerProps extends TabsTriggerProps {\n  /** 드래그용 고유 ID (보통 value와 동일) */\n  id: string\n}\n\n/** 드래그 앤 드롭 가능한 탭 트리거 */\nconst SortableTabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  SortableTabsTriggerProps\n>(({ id, className, closable, onClose, children, onKeyDown, maxWidth = 120, minWidth = 60, ...props }, ref) => {\n  const {\n    attributes,\n    listeners,\n    setNodeRef,\n    transform,\n    transition,\n    isDragging,\n  } = useSortable({ id })\n\n  // dnd-kit의 role=\"button\"을 제외 (Radix Tab의 role=\"tab\" 유지를 위해)\n  const { role: _, ...sortableAttributes } = attributes\n\n  const textRef = React.useRef<HTMLSpanElement>(null)\n  const triggerRef = React.useRef<HTMLButtonElement | null>(null)\n  const [isTruncated, setIsTruncated] = React.useState(false)\n  const [isHovering, setIsHovering] = React.useState(false)\n\n  // ref 병합\n  const mergedRef = React.useCallback(\n    (node: HTMLButtonElement | null) => {\n      triggerRef.current = node\n      setNodeRef(node)\n      if (typeof ref === \"function\") {\n        ref(node)\n      } else if (ref && typeof ref === \"object\") {\n        ;(ref as { current: HTMLButtonElement | null }).current = node\n      }\n    },\n    [ref, setNodeRef]\n  )\n\n  React.useEffect(() => {\n    const checkTruncation = () => {\n      if (textRef.current) {\n        setIsTruncated(textRef.current.scrollWidth > textRef.current.clientWidth)\n      }\n    }\n    checkTruncation()\n    window.addEventListener(\"resize\", checkTruncation)\n    return () => window.removeEventListener(\"resize\", checkTruncation)\n  }, [children])\n\n  const handleKeyDown = (e: React.KeyboardEvent<HTMLButtonElement>) => {\n    if (closable && (e.key === \"Delete\" || e.key === \"Backspace\")) {\n      e.preventDefault()\n      onClose?.()\n    }\n    onKeyDown?.(e)\n  }\n\n  const style: React.CSSProperties = {\n    transform: CSS.Transform.toString(transform),\n    transition,\n    opacity: isDragging ? 0.5 : 1,\n    zIndex: isDragging ? 10 : undefined,\n    minWidth: `${minWidth}px`,\n  }\n\n  return (\n    <>\n      <TabsPrimitive.Trigger\n        ref={mergedRef}\n        style={style}\n        className={cn(\n          \"inline-flex h-9 items-center justify-center gap-0.5 px-3 py-2 text-xs font-bold cursor-grab\",\n          \"flex-grow-0\", // 늘어나지 않음\n          \"rounded-t bg-transparent\",\n          \"text-text-secondary\",\n          \"mb-[-1px]\", // 하단 border와 연결\n          \"transition-all duration-200\",\n          // 비활성 탭: 축소 가능, maxWidth 제한\n          \"data-[state=inactive]:flex-shrink data-[state=inactive]:max-w-[120px]\",\n          // 활성 탭: 축소 안 함, 전체 텍스트 표시\n          \"data-[state=active]:flex-shrink-0 data-[state=active]:max-w-none\",\n          \"data-[state=active]:border data-[state=active]:border-b-0 data-[state=active]:border-border\",\n          \"data-[state=active]:text-slate-900 dark:data-[state=active]:text-slate-50\",\n          \"data-[state=active]:bg-[linear-gradient(180deg,white_0%,#f4f6f8_30%)]\",\n          \"dark:data-[state=active]:bg-[linear-gradient(180deg,#444b57_0%,#1b2026_30%)]\",\n          \"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n          \"disabled:pointer-events-none disabled:opacity-50\",\n          isDragging && \"cursor-grabbing\",\n          className\n        )}\n        onKeyDown={handleKeyDown}\n        onMouseEnter={() => setIsHovering(true)}\n        onMouseLeave={() => setIsHovering(false)}\n        {...sortableAttributes}\n        {...listeners}\n        {...props}\n      >\n        <span\n          ref={textRef}\n          className=\"truncate min-w-0\"\n        >\n          {children}\n        </span>\n        {closable && (\n          <span\n            onClick={(e) => {\n              e.stopPropagation()\n              onClose?.()\n            }}\n            className=\"ml-0.5 flex-shrink-0 text-text-secondary hover:text-text-primary transition-colors cursor-pointer\"\n            aria-hidden=\"true\"\n          >\n            <XIcon size={20} />\n          </span>\n        )}\n      </TabsPrimitive.Trigger>\n      <PortalTooltip targetRef={triggerRef} show={isTruncated && isHovering && !isDragging}>\n        {children}\n      </PortalTooltip>\n    </>\n  )\n})\nSortableTabsTrigger.displayName = \"SortableTabsTrigger\"\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-4 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport {\n  Tabs,\n  TabsList,\n  TabsTrigger,\n  TabsContent,\n  SortableTabsList,\n  SortableTabsTrigger,\n  arrayMove,\n}\n"],"names":["Tabs","TabsPrimitive","TabsList","React","className","align","props","ref","jsx","cn","SortableTabsList","items","onReorder","children","sensors","useSensors","useSensor","PointerSensor","KeyboardSensor","DndContext","closestCenter","event","active","over","oldIndex","newIndex","arrayMove","SortableContext","horizontalListSortingStrategy","PortalTooltip","targetRef","show","position","setPosition","mounted","setMounted","rect","createPortal","TabsTrigger","closable","onClose","onKeyDown","maxWidth","minWidth","textRef","triggerRef","isTruncated","setIsTruncated","isHovering","setIsHovering","mergedRef","node","checkTruncation","handleKeyDown","e","jsxs","Fragment","XIcon","SortableTabsTrigger","id","attributes","listeners","setNodeRef","transform","transition","isDragging","useSortable","_","sortableAttributes","style","CSS","TabsContent"],"mappings":"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"}