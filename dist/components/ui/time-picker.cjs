"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const n=require("react/jsx-runtime"),F=require("react"),A=require("../../lib/utils.cjs"),G=require("./input.cjs"),P=require("./popover.cjs"),y=require("./date-time-picker.cjs"),J=require("../../icons/BellIcon.cjs");function K(c){const s=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(c){for(const l in c)if(l!=="default"){const x=Object.getOwnPropertyDescriptor(c,l);Object.defineProperty(s,l,x.get?x:{enumerable:!0,get:()=>c[l]})}}return s.default=c,Object.freeze(s)}const p=K(F),L=({value:c,onChange:s,label:l,placeholder:x="00:00:00",error:M,errorMessage:$,size:B="sm",disabled:d,className:R,reserveLabelSpace:v,showSeconds:f=!0})=>{const[w,O]=p.useState(!1),I=t=>{if(!t)return{hours:0,minutes:0,seconds:0};if(t instanceof Date)return{hours:t.getHours(),minutes:t.getMinutes(),seconds:t.getSeconds()};const e=t.split(":");return{hours:parseInt(e[0]||"0",10)||0,minutes:parseInt(e[1]||"0",10)||0,seconds:parseInt(e[2]||"0",10)||0}},{hours:g,minutes:q,seconds:_}=I(c),[j,b]=p.useState(g),[S,N]=p.useState(q),[h,k]=p.useState(_);p.useEffect(()=>{const{hours:t,minutes:e,seconds:r}=I(c);b(t),N(e),k(r)},[c]);const a=(t,e,r)=>{const i=t.toString().padStart(2,"0"),o=e.toString().padStart(2,"0"),m=r.toString().padStart(2,"0");return f?`${i}:${o}:${m}`:`${i}:${o}`},[T,u]=p.useState(c?a(g,q,_):"");p.useEffect(()=>{if(c){const{hours:t,minutes:e,seconds:r}=I(c);u(a(t,e,r))}else u("")},[c,f]);const D=t=>{const e=t.target.value;u(e);const r=e.split(":");if(r.length>=2){const i=parseInt(r[0],10),o=parseInt(r[1],10),m=r[2]?parseInt(r[2],10):0;!isNaN(i)&&!isNaN(o)&&i>=0&&i<=23&&o>=0&&o<=59&&m>=0&&m<=59&&(b(i),N(o),k(m),s==null||s(a(i,o,m)))}},H=()=>{if(!T){s==null||s("");return}const t=T.split(":");if(t.length>=2){const e=parseInt(t[0],10),r=parseInt(t[1],10),i=t[2]?parseInt(t[2],10):0;if(!isNaN(e)&&!isNaN(r)&&e>=0&&e<=23&&r>=0&&r<=59&&i>=0&&i<=59){const o=a(e,r,i);u(o),s==null||s(o);return}}u(c?a(j,S,h):"")},V=t=>{b(t);const e=a(t,S,h);u(e),s==null||s(e)},z=t=>{N(t);const e=a(j,t,h);u(e),s==null||s(e)},E=t=>{k(t);const e=a(j,S,t);u(e),s==null||s(e)};return n.jsxs(P.Popover,{open:w,onOpenChange:O,children:[n.jsx(P.PopoverTrigger,{asChild:!0,disabled:d,children:n.jsx("div",{role:"combobox","aria-haspopup":"dialog",className:A.cn("inline-block",R),children:n.jsx(G.InputField,{label:l,value:T,onChange:D,onBlur:H,placeholder:f?x:"00:00",error:M,errorMessage:$,size:B,disabled:d,autoComplete:"off",rightIcon:n.jsx(J.BellIcon,{size:24}),onRightIconClick:()=>!d&&O(!0),reserveLabelSpace:v})})}),n.jsx(P.PopoverContent,{className:"w-auto border-0 bg-transparent p-0 shadow-none",align:"start",children:n.jsx("div",{className:"overflow-hidden rounded-[5px] border border-slate-100 bg-white/95 p-3 shadow-[10px_10px_10px_0px_rgba(0,0,0,0.05)] backdrop-blur-[12px] dark:border-slate-600 dark:bg-slate-800/95",children:n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx(y.TimeSpinner,{value:j,onChange:V,max:23,disabled:d}),n.jsx("span",{className:"flex h-[23px] w-[9px] items-center justify-center text-xs text-slate-500 dark:text-slate-300",children:":"}),n.jsx(y.TimeSpinner,{value:S,onChange:z,max:59,disabled:d}),f&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"flex h-[23px] w-[9px] items-center justify-center text-xs text-slate-500 dark:text-slate-300",children:":"}),n.jsx(y.TimeSpinner,{value:h,onChange:E,max:59,disabled:d})]})]})})})]})};exports.TimePicker=L;
//# sourceMappingURL=time-picker.cjs.map
