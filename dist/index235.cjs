"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const v=require("react"),o=require("./index234.cjs"),l=e=>e instanceof HTMLElement?e:null,E=e=>[...e.querySelectorAll("[data-animated-month]")??[]],I=e=>l(e.querySelector("[data-animated-month]")),w=e=>l(e.querySelector("[data-animated-caption]")),S=e=>l(e.querySelector("[data-animated-weeks]")),z=e=>l(e.querySelector("[data-animated-nav]")),P=e=>l(e.querySelector("[data-animated-weekdays]"));function R(e,C,{classNames:s,months:r,focused:x,dateLib:H}){const p=v.useRef(null),T=v.useRef(r),m=v.useRef(!1);v.useLayoutEffect(()=>{const u=T.current;if(T.current=r,!C||!e.current||!(e.current instanceof HTMLElement)||r.length===0||u.length===0||r.length!==u.length)return;const M=H.isSameMonth(r[0].date,u[0].date),f=H.isAfter(r[0].date,u[0].date),A=f?s[o.Animation.caption_after_enter]:s[o.Animation.caption_before_enter],L=f?s[o.Animation.weeks_after_enter]:s[o.Animation.weeks_before_enter],b=p.current,_=e.current.cloneNode(!0);if(_ instanceof HTMLElement?(E(_).forEach(t=>{if(!(t instanceof HTMLElement))return;const c=I(t);c&&t.contains(c)&&t.removeChild(c);const n=w(t);n&&n.classList.remove(A);const a=S(t);a&&a.classList.remove(L)}),p.current=_):p.current=null,m.current||M||x)return;const q=b instanceof HTMLElement?E(b):[],d=E(e.current);if(d!=null&&d.every(i=>i instanceof HTMLElement)&&q&&q.every(i=>i instanceof HTMLElement)){m.current=!0,e.current.style.isolation="isolate";const i=z(e.current);i&&(i.style.zIndex="1"),d.forEach((t,c)=>{const n=q[c];if(!n)return;t.style.position="relative",t.style.overflow="hidden";const a=w(t);a&&a.classList.add(A);const y=S(t);y&&y.classList.add(L);const W=()=>{m.current=!1,e.current&&(e.current.style.isolation=""),i&&(i.style.zIndex=""),a&&a.classList.remove(A),y&&y.classList.remove(L),t.style.position="",t.style.overflow="",t.contains(n)&&t.removeChild(n)};n.style.pointerEvents="none",n.style.position="absolute",n.style.overflow="hidden",n.setAttribute("aria-hidden","true");const g=P(n);g&&(g.style.opacity="0");const k=w(n);k&&(k.classList.add(f?s[o.Animation.caption_before_exit]:s[o.Animation.caption_after_exit]),k.addEventListener("animationend",W));const h=S(n);h&&h.classList.add(f?s[o.Animation.weeks_before_exit]:s[o.Animation.weeks_after_exit]),t.insertBefore(n,t.firstChild)})}})}exports.useAnimation=R;
//# sourceMappingURL=index235.cjs.map
