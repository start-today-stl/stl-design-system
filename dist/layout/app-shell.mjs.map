{"version":3,"file":"app-shell.mjs","sources":["../../src/layout/app-shell.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Sidebar, type SidebarProps } from \"./sidebar\"\nimport { Header, type HeaderProps } from \"./header\"\nimport { Content, type ContentProps } from \"./content\"\n\n// Context for sharing state between compound components\ninterface AppShellContextValue {\n  // Future: collapsed state, theme, etc.\n}\n\nconst AppShellContext = React.createContext<AppShellContextValue | null>(null)\n\n// Root component props\nexport interface AppShellProps extends React.HTMLAttributes<HTMLDivElement> {}\n\n// Compound component type\ninterface AppShellComponent\n  extends React.ForwardRefExoticComponent<\n    AppShellProps & React.RefAttributes<HTMLDivElement>\n  > {\n  Sidebar: typeof AppShellSidebar\n  Header: typeof AppShellHeader\n  Content: typeof AppShellContent\n}\n\n// Helper to extract specific child types\nfunction getChildByType(\n  children: React.ReactNode,\n  displayName: string\n): React.ReactNode | null {\n  const childArray = React.Children.toArray(children)\n  return (\n    childArray.find(\n      (child) =>\n        React.isValidElement(child) &&\n        (child.type as React.ComponentType)?.displayName === displayName\n    ) || null\n  )\n}\n\n// Root AppShell component\nconst AppShellRoot = React.forwardRef<HTMLDivElement, AppShellProps>(\n  ({ className, children, ...props }, ref) => {\n    const sidebar = getChildByType(children, \"AppShell.Sidebar\")\n    const header = getChildByType(children, \"AppShell.Header\")\n    const content = getChildByType(children, \"AppShell.Content\")\n\n    return (\n      <AppShellContext.Provider value={{}}>\n        <div\n          ref={ref}\n          className={cn(\n            \"flex h-screen w-full bg-cool-50 dark:bg-dark-600\",\n            className\n          )}\n          {...props}\n        >\n          {/* 사이드바 */}\n          {sidebar && <aside className=\"flex-shrink-0 h-full relative z-20\">{sidebar}</aside>}\n\n          {/* 메인 영역 (헤더 + 콘텐츠) */}\n          <div className=\"flex flex-col flex-1 min-w-0 bg-cool-50 dark:bg-dark-600 rounded-tl-[20px]\">\n            {/* 헤더 */}\n            {header && <header className=\"flex-shrink-0 relative z-10\">{header}</header>}\n\n            {/* 콘텐츠 */}\n            <main className=\"flex-1 overflow-auto\">{content}</main>\n          </div>\n        </div>\n      </AppShellContext.Provider>\n    )\n  }\n)\nAppShellRoot.displayName = \"AppShell\"\n\n// AppShell.Sidebar - wrapper around Sidebar component\nconst AppShellSidebar = React.forwardRef<HTMLDivElement, SidebarProps>(\n  (props, ref) => {\n    return <Sidebar ref={ref} {...props} />\n  }\n)\nAppShellSidebar.displayName = \"AppShell.Sidebar\"\n\n// AppShell.Header - wrapper around Header component\nconst AppShellHeader = React.forwardRef<HTMLDivElement, HeaderProps>(\n  (props, ref) => {\n    return <Header ref={ref} {...props} />\n  }\n)\nAppShellHeader.displayName = \"AppShell.Header\"\n\n// AppShell.Content - wrapper around Content component\nconst AppShellContent = React.forwardRef<HTMLDivElement, ContentProps>(\n  (props, ref) => {\n    return <Content ref={ref} {...props} />\n  }\n)\nAppShellContent.displayName = \"AppShell.Content\"\n\n// Compose compound component\nconst AppShell = AppShellRoot as AppShellComponent\nAppShell.Sidebar = AppShellSidebar\nAppShell.Header = AppShellHeader\nAppShell.Content = AppShellContent\n\nexport { AppShell }\n"],"names":["AppShellContext","React","getChildByType","children","displayName","child","_a","AppShellRoot","className","props","ref","sidebar","header","content","jsxs","cn","jsx","AppShellSidebar","Sidebar","AppShellHeader","Header","AppShellContent","Content","AppShell"],"mappings":";;;;;;AAYA,MAAMA,IAAkBC,EAAM,cAA2C,IAAI;AAgB7E,SAASC,EACPC,GACAC,GACwB;AAExB,SADmBH,EAAM,SAAS,QAAQE,CAAQ,EAErC;AAAA,IACT,CAACE;;AACC,aAAAJ,EAAM,eAAeI,CAAK,OACzBC,IAAAD,EAAM,SAAN,gBAAAC,EAAoC,iBAAgBF;AAAA;AAAA,EAAA,KACpD;AAET;AAGA,MAAMG,IAAeN,EAAM;AAAA,EACzB,CAAC,EAAE,WAAAO,GAAW,UAAAL,GAAU,GAAGM,EAAA,GAASC,MAAQ;AAC1C,UAAMC,IAAUT,EAAeC,GAAU,kBAAkB,GACrDS,IAASV,EAAeC,GAAU,iBAAiB,GACnDU,IAAUX,EAAeC,GAAU,kBAAkB;AAE3D,6BACGH,EAAgB,UAAhB,EAAyB,OAAO,CAAA,GAC/B,UAAA,gBAAAc;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,KAAAJ;AAAA,QACA,WAAWK;AAAA,UACT;AAAA,UACAP;AAAA,QAAA;AAAA,QAED,GAAGC;AAAA,QAGH,UAAA;AAAA,UAAAE,KAAW,gBAAAK,EAAC,SAAA,EAAM,WAAU,sCAAsC,UAAAL,GAAQ;AAAA,UAG3E,gBAAAG,EAAC,OAAA,EAAI,WAAU,8EAEZ,UAAA;AAAA,YAAAF,KAAU,gBAAAI,EAAC,UAAA,EAAO,WAAU,+BAA+B,UAAAJ,GAAO;AAAA,YAGnE,gBAAAI,EAAC,QAAA,EAAK,WAAU,wBAAwB,UAAAH,EAAA,CAAQ;AAAA,UAAA,EAAA,CAClD;AAAA,QAAA;AAAA,MAAA;AAAA,IAAA,GAEJ;AAAA,EAEJ;AACF;AACAN,EAAa,cAAc;AAG3B,MAAMU,IAAkBhB,EAAM;AAAA,EAC5B,CAACQ,GAAOC,MACC,gBAAAM,EAACE,GAAA,EAAQ,KAAAR,GAAW,GAAGD,EAAA,CAAO;AAEzC;AACAQ,EAAgB,cAAc;AAG9B,MAAME,IAAiBlB,EAAM;AAAA,EAC3B,CAACQ,GAAOC,MACC,gBAAAM,EAACI,GAAA,EAAO,KAAAV,GAAW,GAAGD,EAAA,CAAO;AAExC;AACAU,EAAe,cAAc;AAG7B,MAAME,IAAkBpB,EAAM;AAAA,EAC5B,CAACQ,GAAOC,MACC,gBAAAM,EAACM,GAAA,EAAQ,KAAAZ,GAAW,GAAGD,EAAA,CAAO;AAEzC;AACAY,EAAgB,cAAc;AAG9B,MAAME,IAAWhB;AACjBgB,EAAS,UAAUN;AACnBM,EAAS,SAASJ;AAClBI,EAAS,UAAUF;"}