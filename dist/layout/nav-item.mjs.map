{"version":3,"file":"nav-item.mjs","sources":["../../src/layout/nav-item.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { RightIcon } from \"@/icons\"\n\nconst navItemVariants = cva(\n  // 기본: h-9(36px), p-1.5(6px), gap-0.5(2px), rounded-md(6px)\n  // 색상: slate-600 → hover:blue-500, bg:transparent → hover:slate-50 → active:blue-100\n  \"flex items-center gap-0.5 w-full h-9 p-1.5 rounded-md cursor-pointer transition-colors text-sm font-medium tracking-[-0.14px] hover:bg-slate-50 dark:hover:bg-slate-800 active:bg-blue-100 dark:active:bg-blue-100 hover:text-blue-500 dark:hover:text-blue-300 active:text-blue-500 dark:active:text-blue-300 hover:[&_svg]:text-blue-500 dark:hover:[&_svg]:text-blue-300 active:[&_svg]:text-blue-500 dark:active:[&_svg]:text-blue-300\",\n  {\n    variants: {\n      active: {\n        true: \"\",\n        false: \"\",\n      },\n      depth: {\n        1: \"pl-0\",\n        2: \"pl-6\",\n        3: \"pl-12\",\n      },\n    },\n    compoundVariants: [\n      // active: false + depth 조합 - 기본 텍스트 색상\n      {\n        active: false,\n        depth: 1,\n        className: \"text-slate-800 dark:text-slate-200 [&_svg]:text-slate-800 [&_svg]:dark:text-slate-200\",\n      },\n      {\n        active: false,\n        depth: 2,\n        className: \"text-slate-600 dark:text-slate-300 [&_svg]:text-slate-600 [&_svg]:dark:text-slate-300\",\n      },\n      {\n        active: false,\n        depth: 3,\n        className: \"text-slate-600 dark:text-slate-300 [&_svg]:text-slate-600 [&_svg]:dark:text-slate-300\",\n      },\n      // active: true - 모든 depth에서 파란색\n      {\n        active: true,\n        className: \"text-blue-500 dark:text-blue-300 [&_svg]:text-blue-500 [&_svg]:dark:text-blue-300\",\n      },\n    ],\n    defaultVariants: {\n      active: false,\n      depth: 1,\n    },\n  }\n)\n\nexport interface NavItemProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof navItemVariants> {\n  /** 메뉴 아이콘 */\n  icon?: React.ReactNode\n  /** 메뉴 라벨 */\n  label: string\n  /** 서브메뉴 존재 여부 */\n  hasChildren?: boolean\n  /** 서브메뉴 펼침 상태 */\n  expanded?: boolean\n  /** 축소 모드 (아이콘만 표시) */\n  collapsed?: boolean\n  /** 우측 인디케이터 아이콘 (펼침 모드) */\n  indicator?: React.ReactNode\n  /** @internal 플라이아웃 내부 여부 (NavGroup에서 전달됨, DOM에 전달되지 않음) */\n  _inFlyout?: boolean\n}\n\nconst NavItem = React.forwardRef<HTMLButtonElement, NavItemProps>(\n  (\n    {\n      className,\n      icon,\n      label,\n      active,\n      depth,\n      hasChildren,\n      expanded,\n      collapsed,\n      indicator,\n      _inFlyout,\n      ...props\n    },\n    ref\n  ) => {\n    // _inFlyout은 NavGroup에서 전달되지만 DOM에는 전달하지 않음\n    void _inFlyout\n\n    // 축소 모드: 아이콘 + 아래에 라벨 표시 (세로 배치)\n    if (collapsed) {\n      return (\n        <button\n          ref={ref}\n          className={cn(\n            navItemVariants({ active, depth }),\n            \"flex-col justify-center items-center w-full h-auto py-2 px-1 gap-1\",\n            className\n          )}\n          {...props}\n        >\n          {icon && (\n            <span className=\"flex-shrink-0 w-6 h-6 flex items-center justify-center\">\n              {icon}\n            </span>\n          )}\n          <span className=\"text-[10px] font-medium leading-tight text-center truncate w-full px-1\">\n            {label}\n          </span>\n        </button>\n      )\n    }\n\n    return (\n      <button\n        ref={ref}\n        className={cn(\n          navItemVariants({ active, depth }),\n          className\n        )}\n        {...props}\n      >\n        {/* 아이콘 */}\n        {icon && (\n          <span className=\"flex-shrink-0 w-6 h-6 flex items-center justify-center\">\n            {icon}\n          </span>\n        )}\n\n        {/* 라벨 (축소 모드에서는 숨김) */}\n        {!collapsed && (\n          <span className=\"flex-1 text-left truncate\">{label}</span>\n        )}\n\n        {/* 인디케이터 아이콘 (홈 메뉴 등에 사용) */}\n        {indicator && !collapsed && !hasChildren && (\n          <span className=\"flex-shrink-0 w-6 h-6 flex items-center justify-center\">\n            {indicator}\n          </span>\n        )}\n\n        {/* 화살표 (서브메뉴 있을 때, 축소 모드에서는 숨김) */}\n        {hasChildren && !collapsed && (\n          <span\n            className={cn(\n              \"flex-shrink-0 w-6 h-6 flex items-center justify-center transition-transform\",\n              expanded && \"rotate-90\"\n            )}\n          >\n            <RightIcon size={24} />\n          </span>\n        )}\n      </button>\n    )\n  }\n)\nNavItem.displayName = \"NavItem\"\n\nexport { NavItem, navItemVariants }\n"],"names":["navItemVariants","cva","NavItem","React","className","icon","label","active","depth","hasChildren","expanded","collapsed","indicator","_inFlyout","props","ref","jsxs","cn","jsx","RightIcon"],"mappings":";;;;;AAMA,MAAMA,IAAkBC;AAAA;AAAA;AAAA,EAGtB;AAAA,EACA;AAAA,IACE,UAAU;AAAA,MACR,QAAQ;AAAA,QACN,MAAM;AAAA,QACN,OAAO;AAAA,MAAA;AAAA,MAET,OAAO;AAAA,QACL,GAAG;AAAA,QACH,GAAG;AAAA,QACH,GAAG;AAAA,MAAA;AAAA,IACL;AAAA,IAEF,kBAAkB;AAAA;AAAA,MAEhB;AAAA,QACE,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,WAAW;AAAA,MAAA;AAAA,MAEb;AAAA,QACE,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,WAAW;AAAA,MAAA;AAAA,MAEb;AAAA,QACE,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,WAAW;AAAA,MAAA;AAAA;AAAA,MAGb;AAAA,QACE,QAAQ;AAAA,QACR,WAAW;AAAA,MAAA;AAAA,IACb;AAAA,IAEF,iBAAiB;AAAA,MACf,QAAQ;AAAA,MACR,OAAO;AAAA,IAAA;AAAA,EACT;AAEJ,GAqBMC,IAAUC,EAAM;AAAA,EACpB,CACE;AAAA,IACE,WAAAC;AAAA,IACA,MAAAC;AAAA,IACA,OAAAC;AAAA,IACA,QAAAC;AAAA,IACA,OAAAC;AAAA,IACA,aAAAC;AAAA,IACA,UAAAC;AAAA,IACA,WAAAC;AAAA,IACA,WAAAC;AAAA,IACA,WAAAC;AAAA,IACA,GAAGC;AAAA,EAAA,GAELC,MAMIJ,IAEA,gBAAAK;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,KAAAD;AAAA,MACA,WAAWE;AAAA,QACTjB,EAAgB,EAAE,QAAAO,GAAQ,OAAAC,GAAO;AAAA,QACjC;AAAA,QACAJ;AAAA,MAAA;AAAA,MAED,GAAGU;AAAA,MAEH,UAAA;AAAA,QAAAT,KACC,gBAAAa,EAAC,QAAA,EAAK,WAAU,0DACb,UAAAb,GACH;AAAA,QAEF,gBAAAa,EAAC,QAAA,EAAK,WAAU,0EACb,UAAAZ,EAAA,CACH;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA,IAMJ,gBAAAU;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,KAAAD;AAAA,MACA,WAAWE;AAAA,QACTjB,EAAgB,EAAE,QAAAO,GAAQ,OAAAC,GAAO;AAAA,QACjCJ;AAAA,MAAA;AAAA,MAED,GAAGU;AAAA,MAGH,UAAA;AAAA,QAAAT,KACC,gBAAAa,EAAC,QAAA,EAAK,WAAU,0DACb,UAAAb,GACH;AAAA,QAID,CAACM,KACA,gBAAAO,EAAC,QAAA,EAAK,WAAU,6BAA6B,UAAAZ,GAAM;AAAA,QAIpDM,KAAa,CAACD,KAAa,CAACF,KAC3B,gBAAAS,EAAC,QAAA,EAAK,WAAU,0DACb,UAAAN,EAAA,CACH;AAAA,QAIDH,KAAe,CAACE,KACf,gBAAAO;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAWD;AAAA,cACT;AAAA,cACAP,KAAY;AAAA,YAAA;AAAA,YAGd,UAAA,gBAAAQ,EAACC,GAAA,EAAU,MAAM,GAAA,CAAI;AAAA,UAAA;AAAA,QAAA;AAAA,MACvB;AAAA,IAAA;AAAA,EAAA;AAKV;AACAjB,EAAQ,cAAc;"}