"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const n=require("react/jsx-runtime"),_=require("react"),x=require("../lib/utils.cjs"),E=require("../icons/SearchIcon.cjs"),q=require("../icons/STLArrowIcon.cjs");function z(a){const s=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(a){for(const r in a)if(r!=="default"){const i=Object.getOwnPropertyDescriptor(a,r);Object.defineProperty(s,r,i.get?i:{enumerable:!0,get:()=>a[r]})}}return s.default=a,Object.freeze(s)}const c=z(_),v=c.forwardRef(({placeholder:a="검색어를 입력하세요",value:s,onChange:r,onSearch:i,recentSearches:u=[],onRecentSearchClick:p,className:y,disabled:b},j)=>{const[l,d]=c.useState(!1),[N,g]=c.useState(""),[f,o]=c.useState(-1),m=c.useRef(null),k=s!==void 0?s:N,D=e=>{const t=e.target.value;s===void 0&&g(t),r==null||r(t),o(-1)},O=e=>{const t=u.length;e.key==="ArrowDown"&&(e.preventDefault(),!l&&t>0?(d(!0),o(0)):l&&t>0&&o(w=>(w+1)%t)),e.key==="ArrowUp"&&(e.preventDefault(),l&&t>0&&o(w=>(w-1+t)%t)),e.key==="Enter"&&(l&&f>=0&&u[f]?h(u[f]):(i==null||i(k),d(!1))),e.key==="Escape"&&(d(!1),o(-1))},h=e=>{s===void 0&&g(e.text),r==null||r(e.text),p==null||p(e),d(!1),o(-1)};c.useEffect(()=>{const e=t=>{m.current&&!m.current.contains(t.target)&&(d(!1),o(-1))};return l&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[l]);const I=l&&u.length>0;return n.jsxs("div",{ref:m,className:"relative",children:[n.jsxs("div",{className:x.cn("relative flex h-9 items-center gap-2 rounded-[20px] border","bg-white dark:bg-slate-800","border-slate-100 dark:border-slate-600","px-3 cursor-text","focus-within:border-slate-500 dark:focus-within:border-slate-100","transition-colors",b&&"opacity-50 cursor-not-allowed",y),children:[n.jsx(E.SearchIcon,{size:20,className:"text-slate-500 dark:text-slate-50 shrink-0"}),n.jsx("input",{ref:j,type:"text",value:k,onChange:D,onKeyDown:O,onFocus:()=>!b&&d(!0),placeholder:a,disabled:b,className:x.cn("flex-1 bg-transparent text-xs outline-none","text-slate-900 dark:text-slate-50","placeholder:text-slate-300 dark:placeholder:text-slate-50","disabled:cursor-not-allowed")}),n.jsx(q.STLArrowIcon,{size:24,className:"text-blue-500 dark:text-slate-50 shrink-0"})]}),I&&n.jsx("div",{className:x.cn("absolute left-0 right-0 top-full mt-[13px] z-[100]","overflow-hidden rounded-[5px] border","border-slate-100 dark:border-slate-600","bg-white/90 dark:bg-slate-800/90 backdrop-blur-[12px]","shadow-[10px_10px_10px_0px_rgba(0,0,0,0.05)]","p-[5px]","animate-in fade-in-0 zoom-in-95 slide-in-from-top-2"),children:u.map((e,t)=>n.jsx("button",{type:"button",onClick:()=>h(e),onMouseEnter:()=>o(t),className:x.cn("flex h-[29px] w-full cursor-pointer select-none items-center rounded-[2px] px-[5px] py-[5px]","text-xs text-slate-500 dark:text-slate-300 text-left","hover:bg-slate-100 dark:hover:bg-slate-700","focus:bg-slate-100 dark:focus:bg-slate-700 outline-none","transition-colors",f===t&&"bg-slate-100 dark:bg-slate-700"),children:e.text},e.id))})]})});v.displayName="SearchBar";exports.SearchBar=v;
//# sourceMappingURL=search-bar.cjs.map
